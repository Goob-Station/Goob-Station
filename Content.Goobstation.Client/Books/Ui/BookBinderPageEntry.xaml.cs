using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Utility;

namespace Content.Goobstation.Client.Books.Ui;

/// <summary>
/// Stores page text with a little visuals created in xaml
/// </summary>
[GenerateTypedNameReferences]
public sealed partial class BookBinderPageEntry : Control
{
    public string Text = "";

    public BookBinderPageEntry(string text)
    {
        RobustXamlLoader.Load(this);
        Text = text;
        TextEdit.TextRope = new Rope.Leaf(text);
        TextEdit.OnTextChanged += args => Text = Rope.Collapse(args.TextRope).TrimStart();
    }
}
