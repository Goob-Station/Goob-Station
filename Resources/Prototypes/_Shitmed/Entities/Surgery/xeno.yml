# Generic

- type: entity
  abstract: true
  parent: SurgeryBase
  id: BaseSurgeryXeno
  components:
  - type: SurgeryPartComponentCondition
    inverse: false # xeno surgeries can only be done on xenos

- type: entity
  abstract: true
  parent: BaseSurgeryXeno
  id: BaseSurgeryXenoCommon
  components:
  - type: SurgeryPartPresentCondition

- type: entity
  parent: BaseSurgeryXenoCommon
  id: SurgeryXenoInciseExoskeleton
  name: Incise Exoskeleton
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoCutExoskeleton
    - SurgeryStepXenoSawExoskeleton
    - SurgeryStepXenoClampBleeders
    - SurgeryStepXenoRetractExoskeleton

- type: entity
  parent: BaseSurgeryXenoCommon
  id: SurgeryXenoResealExoskeleton
  name: Reseal Exoskeleton
  components:
  - type: Surgery
    requirement: SurgeryXenoResealEndoskeleton
    steps:
    - SurgeryStepXenoCloseExoskeleton
    - SurgeryStepXenoMendExoskeleton

- type: entity
  parent: BaseSurgeryXenoCommon
  id: SurgeryXenoExposeEndoskeleton
  name: Expose Endoskeleton
  components:
  - type: Surgery
    requirement: SurgeryXenoInciseExoskeleton
    steps:
    - SurgeryStepXenoSawEndoskeleton
    - SurgeryStepXenoRetractEndoskeleton

- type: entity
  parent: BaseSurgeryXenoCommon
  id: SurgeryXenoResealEndoskeleton
  name: Repair Endoskeleton
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoCloseEndoskeleton
    - SurgeryStepXenoMendEndoskeleton

- type: entity
  parent: [ BaseSurgeryXeno, SurgeryRemovePart ]
  id: SurgeryXenoRemovePart
  components:
  - type: Surgery
    requirement: SurgeryXenoInciseExoskeleton
    steps:
    - SurgeryStepXenoSawEndoskeleton
    - SurgeryStepXenoClampBleeders
    - SurgeryStepXenoRemoveFeature

# Insert organs

- type: entity
  abstract: true
  parent: BaseSurgeryXeno
  id: BaseSurgeryXenoInsert
  components:
  - type: Surgery
    requirement: SurgeryXenoExposeEndoskeleton
  - type: SurgeryPartCondition
    part: Head
  - type: SurgeryOrganCondition
    inverse: true
    reattaching: true

- type: entity
  parent: BaseSurgeryXenoInsert
  id: SurgeryXenoInsertHiveNode
  name: Insert Hive Node
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepInsertHiveNode
    - SurgeryStepXenoSealOrganWound
  - type: SurgeryOrganSlotCondition
    organSlot: hive_node
  - type: SurgeryOrganCondition
    organ:
    - type: HiveNode

- type: entity
  parent: BaseSurgeryXenoInsert
  id: SurgeryXenoInsertResinSpinner
  name: Insert Resin Spinner
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepInsertResinSpinner
    - SurgeryStepXenoSealOrganWound
  - type: SurgeryOrganSlotCondition
    organSlot: resin_spinner
  - type: SurgeryOrganCondition
    organ:
    - type: ResinSpinner

- type: entity
  parent: BaseSurgeryXenoInsert
  id: SurgeryXenoInsertNeurotoxinGland
  name: Insert Neurotoxin Gland
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepInsertNeurotoxinGland
    - SurgeryStepXenoSealOrganWound
  - type: SurgeryOrganSlotCondition
    organSlot: neurotoxin_gland
  - type: SurgeryOrganCondition
    organ:
    - type: NeurotoxinGland

- type: entity
  parent: BaseSurgeryXenoInsert
  id: SurgeryXenoInsertAcidGland
  name: Insert Acid Gland
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepInsertAcidGland
    - SurgeryStepXenoSealOrganWound
  - type: SurgeryOrganSlotCondition
    organSlot: acid_gland
  - type: SurgeryOrganCondition
    organ:
    - type: AcidGland

- type: entity
  parent: BaseSurgeryXenoInsert
  id: SurgeryXenoInsertPlasmaVessel
  name: Insert Plasma Vessel
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepInsertPlasmaVessel
    - SurgeryStepXenoSealOrganWound
  - type: SurgeryPartCondition
    part: Chest
  - type: SurgeryOrganSlotCondition
    organSlot: plasma_vessel
  - type: SurgeryOrganCondition
    organ:
    - type: PlasmaVessel

- type: entity
  parent: BaseSurgeryXenoInsert
  id: SurgeryXenoInsertEggSack
  name: Insert Egg Sack
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepInsertEggSack
    - SurgeryStepXenoSealOrganWound
  - type: SurgeryPartCondition
    part: Groin
  - type: SurgeryOrganSlotCondition
    organSlot: egg_sack
  - type: SurgeryOrganCondition
    organ:
    - type: EggSack

# Remove organs

- type: entity
  abstract: true
  parent: BaseSurgeryXeno
  id: BaseSurgeryXenoRemoveOrgan
  components:
  - type: Surgery
    requirement: SurgeryXenoExposeEndoskeleton
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoRemoveOrgan
  - type: SurgeryPartCondition
    part: Head

- type: entity
  parent: BaseSurgeryXenoRemoveOrgan
  id: SurgeryXenoRemoveHiveNode
  name: Remove Hive Node
  components:
  - type: SurgeryOrganCondition
    organ:
    - type: HiveNode

- type: entity
  parent: BaseSurgeryXenoRemoveOrgan
  id: SurgeryXenoRemoveResinSpinner
  name: Remove Resin Spinner
  components:
  - type: SurgeryOrganCondition
    organ:
    - type: ResinSpinner

- type: entity
  parent: BaseSurgeryXenoRemoveOrgan
  id: SurgeryXenoRemoveNeurotoxinGland
  name: Remove Neurotoxin Gland
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoClampBleeders
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoRemoveOrgan
  - type: SurgeryOrganCondition
    organ:
    - type: NeurotoxinGland

- type: entity
  parent: BaseSurgeryXenoRemoveOrgan
  id: SurgeryXenoRemoveAcidGland
  name: Remove Acid Gland
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoClampBleeders
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoRemoveOrgan
  - type: SurgeryOrganCondition
    organ:
    - type: AcidGland

- type: entity
  parent: BaseSurgeryXenoRemoveOrgan
  id: SurgeryXenoRemovePlasmaVessel
  name: Remove Plasma Vessel
  components:
  - type: Surgery
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoSeverPlasma
    - SurgeryStepXenoClampBleeders
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoRemoveOrgan
  - type: SurgeryPartCondition
    part: Chest
  - type: SurgeryOrganCondition
    organ:
    - type: PlasmaVessel

- type: entity
  parent: BaseSurgeryXenoRemoveOrgan
  id: SurgeryXenoRemoveEggSack
  name: Remove Egg Sack
  components:
  - type: Surgery
    steps: # by far the longest
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoClampBleeders
    - SurgeryStepXenoSeverPlasma
    - SurgeryStepXenoRemoveOrgan
  - type: SurgeryPartCondition
    part: Groin
  - type: SurgeryOrganCondition
    organ:
    - type: EggSack

# Shitty xenobio

- type: entity
  parent: SurgeryBase
  id: SurgeryXenoTakeSample
  name: Take tissue sample
  components:
  - type: Surgery
    requirement: SurgeryXenoExposeEndoskeleton
    steps:
    - SurgeryStepXenoOpenIncision
    - SurgeryStepXenoNeutralizeAcid
    - SurgeryStepXenoTakeSample
  - type: SurgeryPartComponentCondition
    inverse: false
    components:
    - type: HasTissueSample
