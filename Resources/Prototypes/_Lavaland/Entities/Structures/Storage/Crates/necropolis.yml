# SPDX-FileCopyrightText: 2025 Aiden <28298836+Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 2025 Aineias1 <dmitri.s.kiselev@gmail.com>
# SPDX-FileCopyrightText: 2025 FaDeOkno <143940725+FaDeOkno@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 2025 McBosserson <148172569+McBosserson@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Milon <plmilonpl@gmail.com>
# SPDX-FileCopyrightText: 2025 Piras314 <p1r4s@proton.me>
# SPDX-FileCopyrightText: 2025 Rouden <149893554+Roudenn@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 TheBorzoiMustConsume <197824988+TheBorzoiMustConsume@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Unlumination <144041835+Unlumy@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 coderabbitai[bot] <136622811+coderabbitai[bot]@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 deltanedas <39013340+deltanedas@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 deltanedas <@deltanedas:kde.org>
# SPDX-FileCopyrightText: 2025 gluesniffler <159397573+gluesniffler@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 gluesniffler <linebarrelerenthusiast@gmail.com>
# SPDX-FileCopyrightText: 2025 username <113782077+whateverusername0@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 whateverusername0 <whateveremail>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  parent: CrateGenericSteel
  id: LavalandCrateNecropolis
  name: necropolis chest
  description: Steel and strong.
  components:
  - type: Icon
    sprite: _Lavaland/Structures/Storage/Crates/necropolechest.rsi
  - type: Sprite
    sprite: _Lavaland/Structures/Storage/Crates/necropolechest.rsi

- type: entity
  parent: LavalandCrateNecropolis
  id: LavalandCrateNecropolisFilled
  name: necropolis chest
  suffix: Filled
  components:
  - type: EntityTableContainerFill
    containers:
      entity_storage: !type:NestedSelector
        tableId: NecropolisChestLoot

- type: entityTable
  id: NecropolisChestLoot
  table: !type:GroupSelector
    children:
    - id: LavalandCursedHeart
    - id: ClothingOuterArmorCult
    - id: LavalandVampirismCrystal
    # TODO add more interesting obtain methods for crusher upgrades (from megafauna, ruins, etc.)
    - id: CrusherUpgradeMainRudeBuster

    - !type:NestedSelector
      weight: 2
      tableId: LavalandMaterialRare
    - !type:AllSelector
      children:
      - id: ClothingOuterRobesCult
      - id: BedsheetCult

- type: entityTable
  id: LavalandMaterialRare
  table: !type:GroupSelector
    children:
    - !type:GroupSelector
      children:
      - id: MaterialWatcherWing5
      - id: MaterialWatcherMagmaWing5
      - id: MaterialWatcherIceWing5
    - !type:AllSelector
      rolls: 1, 2
      children:
      - id: MaterialLegionSkull1
      - id: MaterialBones1
        rolls: 2, 3
