- type: entity
  parent: [ LavalandMobBase ]
  id: LavalandBossHierophant
  name: hierophant
  description: A massive metal club that hangs in the air as though waiting. It'll make you dance to its beat.
  components:
  - type: Sprite
    noRot: true
    drawdepth: Mobs
    sprite: _Lavaland/Mobs/Bosses/hierophant.rsi
    state: hierophant
  - type: MovementSpeedModifier
    baseWalkSpeed: 1.5
    baseSprintSpeed: 1.5
  - type: MobThresholds
    thresholds:
      0: Alive
      2500: Dead
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 2500
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Tag
    tags:
    - CannotSuicide
  - type: NoSlip
  # insert npc combat stuff here
  - type: MeleeWeapon
    soundHit:
      path: "/Audio/Weapons/smash.ogg"
    angle: 0
    attackRate: 0.5
    animation: WeaponArcPunch
    damage:
      types:
        Blunt: 20
  - type: HierophantBoss # boss specific component. defines pattern/scripted attacks and other stuff
    loot: BikeHorn
    crusherLoot: GoldenBikeHorn
  - type: Aggressive # also required component for aggro checking
  - type: AmbientSound
    enabled: false
    range: 20
    volume: 1
    sound:
      path: /Audio/_Lavaland/Mobs/Bosses/hiero_bgm.ogg

# hierophant damaging thing
- type: entity
  id: LavalandHierophantSquare
  suffix: DO NOT MAP
  name: hierophant square
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Sprite
    sprite: _Lavaland/Effects/mob_effects.rsi
    state: hierophant_blast-begin
  - type: Transform
    anchored: true
  - type: TimedDespawn
    lifetime: 0.6  
  - type: SpawnOnDespawn
    prototypes:
    - LavalandHierophantDamageField

- type: entity
  id: LavalandHierophantDamageField
  categories: [ HideSpawnMenu ]
  components:
  - type: Sprite
    sprite: _Lavaland/Effects/mob_effects.rsi
    state: hierophant_blast-end
  - type: Transform
    anchored: true
  - type: TimedDespawn
    lifetime: 0.325
  - type: Physics
    bodyType: Static
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.5"
        layer:
          - SlipLayer
        mask:
          - ItemMask
        density: 1000
        hard: false
  - type: HierophantDamageField
    damage:
      types:
        Blunt: 2.5
        Heat: 2.5
    sound:
      path: /Audio/_Lavaland/Mobs/Bosses/hiero_blast.ogg

- type: entity
  id: LavalandHierophantChaser
  suffix: DO NOT MAP
  name: hierophant chaser
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Transform
    anchored: true
  - type: HierophantChaser
    spawnPrototype: LavalandHierophantSquare
