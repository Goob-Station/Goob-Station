# SPDX-FileCopyrightText: 2025 Aiden <28298836+Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 2025 Aviu00 <93730715+Aviu00@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  parent: BaseAction
  id: ActionHereticRustConstruction
  name: "Формування Іржі"
  description: "Перетворює іржаву підлогу на суцільну стіну з іржі. Створення стіни під мобом завдасть йому шкоди."
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    checkCanInteract: false
    useDelay: 8
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Heretic/abilities_heretic.rsi
      state: construction
  - type: TargetAction
    checkCanAccess: false
    repeat: true
    range: 4
  - type: WorldTargetAction
    event: !type:EventHereticRustConstruction
  - type: HereticAction
    requireMagicItem: true

- type: entity
  parent: BaseAction
  id: ActionHereticAggressiveSpread
  name: "Агресивне Поширення"
  description: "Поширює іржу на найближчі поверхні."
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    checkCanInteract: false
    predicted: false
    useDelay: 30
    itemIconStyle: NoItem
    sound:
      path: /Audio/Items/welder.ogg
    icon:
      sprite: _Goobstation/Heretic/abilities_heretic.rsi
      state: aggressive_spread
  - type: InstantAction
    event: !type:EventHereticAggressiveSpread
  - type: HereticAction
    requireMagicItem: true
    messageLoc: heretic-speech-rust-spread
  - type: ChangeUseDelayOnAscension
    newUseDelay: 15
    requiredPath: Rust

- type: entity
  parent: BaseAction
  id: ActionHereticEntropicPlume
  name: "Ентропійний Шлейф"
  description: "Вивергає дезорієнтуючий шлейф, який змушує ворогів атакувати один одного, ненадовго засліплює та отруює їх. Також поширює іржу на шляху шлейфу."
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    checkCanInteract: false
    predicted: false
    useDelay: 30
    itemIconStyle: NoItem
    sound:
      path: /Audio/_Goobstation/Wizard/smoke.ogg
    icon:
      sprite: _Goobstation/Heretic/abilities_heretic.rsi
      state: entropic_plume
  - type: InstantAction
    event: !type:EventHereticEntropicPlume
  - type: HereticAction
    requireMagicItem: true
    messageLoc: heretic-speech-rust-plume

- type: entity
  parent: BaseAction
  id: ActionHereticRustWave
  name: "Дотик Покровителя"
  description: "Випускає токсичну хвилю іржі."
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    checkCanInteract: true
    useDelay: 35
    itemIconStyle: NoItem
    sound:
      path: /Audio/Items/welder.ogg
    icon:
      sprite: _Goobstation/Heretic/abilities_heretic.rsi
      state: rust_wave
  - type: TargetAction
    range: 0
    checkCanAccess: false
  - type: WorldTargetAction
    event: !type:ProjectileSpellEvent
      prototype: ProjectileWaveRust
      speed: 2.8
  - type: SpeakOnAction
    sentence: heretic-speech-rust-wave
