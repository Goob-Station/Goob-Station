# SPDX-FileCopyrightText: 2025 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 2025 Solstice <solsticeofthewinter@gmail.com>
# SPDX-FileCopyrightText: 2025 SolsticeOfTheWinter <solsticeofthewinter@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

# Devil Specific

- type: entity
  parent: BaseMentalAction
  id: ActionDevilOpenShop
  name: Soul store
  description: Use the souls contracted to you to regain the power that you lost.
  components:
  - type: Action
    icon: Interface/Actions/shop.png
  - type: InstantAction
    event: !type:DevilOpenStoreEvent

- type: entity
  parent: BaseAction
  id: ActionCreateContract
  name: Summon infernal contract
  description: Creates an infernal contract in the Devil's hand.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    useDelay: 10
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: summon-contract
  - type: InstantAction
    event: !type:CreateContractEvent {}

- type: entity
  parent: BaseAction
  id: ActionCreateRevivalContract
  name: Summon revival contract
  description: Creates a revival contract in the Devil's hand.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    useDelay: 30
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: summon-contract-revival
  - type: InstantAction
    event: !type:CreateRevivalContractEvent {}

- type: entity
  parent: BaseAction
  id: ActionShadowJaunt
  name: Shadow jaunt
  description: Melt into the shadows.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    useDelay: 40 # Stop running you cowardly fucks.
    itemIconStyle: NoItem
    checkCanInteract: false
    checkConsciousness: false
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: shadow-jaunt
  - type: InstantAction
    event: !type:ShadowJauntEvent {}

- type: entity
  parent: BaseAction
  id: ActionDevilPossess
  name: Possess target
  description: Temporarily possess a target.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    useDelay: 70
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: possess
  - type: TargetAction
    interactOnMiss: false
  - type: EntityTargetAction
    canTargetSelf: false
    whitelist:
      components:
      - Body
    event: !type:DevilPossessionEvent {}

- type: entity
  parent: BaseAction
  id: ActionEndPossession
  name: End possession
  description: Cancel this possession early.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    itemIconStyle: NoItem
    checkCanInteract: false
    checkConsciousness: false
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: possess
  - type: InstantAction
    event: !type:EndPossessionEarlyEvent {}

- type: entity
  parent: BaseAction
  id: ActionDevilGrip
  name: Devils Grip
  description: What little fraction of your power remains in this realm, channeled into your hands.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: devil-grip
  - type: InstantAction
    event: !type:DevilGripEvent {}

# Deals

- type: entity
  parent: BaseAction
  id: ActionCheatDeath
  name: Cheat Death
  description: Laugh in the Grim Reapers face. You've still got time.
  categories: [ HideSpawnMenu ]
  components:
  - type: Action
    itemIconStyle: NoItem
    useDelay: 250
    checkCanInteract: false
    checkConsciousness: false
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: cheat-death
  - type: InstantAction
    event: !type:CheatDeathEvent {}

# Greater forms

- type: entity
  id: ActionSummonPitchfork
  name: Summon pitchfork
  description: A devil's weapon of choice. Use this to summon/unsummon your pitchfork.
  components:
  - type: Action
    itemIconStyle: NoItem
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: pitchfork
  - type: InstantAction
    event: !type:SlasherSummonMacheteEvent

- type: entity
  parent: ActionFireball
  id: ActionHellFire
  name: Hellfire
  description: This spell launches hellfire at the target.
  components:
  - type: Action
    useDelay: 20
    itemIconStyle: BigAction
    raiseOnUser: true
    sound: !type:SoundPathSpecifier
      path: /Audio/Magic/fireball.ogg
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: hellfire
  - type: TargetAction
    range: 60
    checkCanAccess: false
  - type: EntityTargetAction
    canTargetSelf: false
  - type: WorldTargetAction
    event: !type:ProjectileSpellEvent
      prototype: ProjectileHellfire
      speed: 20

- type: entity
  parent: BaseActionPolymorph
  id: ActionPolymorphLesserDevil
  name: Ascend to lesser form
  description: Return to your lesser form, only a fragment of your true power. Gains new actions in the process. This cannot be undone.
  components:
  - type: Action
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: lesserform
  - type: InstantAction
    event: !type:PolymorphActionEvent
      protoId: MobLesserDevil

- type: entity
  parent: BaseActionPolymorph
  id: ActionPolymorphArchDevil
  name: Ascend to Archdevil
  description: Return to your true form. Command respect from any other demons.
  components:
  - type: Action
    icon:
      sprite: _Goobstation/Actions/devil.rsi
      state: archdevil
  - type: InstantAction
    event: !type:PolymorphActionEvent
      protoId: MobArchDevil
