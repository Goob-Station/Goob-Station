- type: entity
  id: MobSkeletonGoon
  parent: [ BaseMob, MobCombat]
  name: malicious skeleton
  description: A hostile skeleton summoned by a wraith.
  components:
  - type: HTN
    rootTask:
      task: XenomorphCompound
    blackboard:
      NavClimb: !type:Bool
        true
      NavSmash: !type:Bool
        true
      NavInteract: !type:Bool
        true
      NavPry: !type:Bool
        true
  - type: Prying
    pryPowered: true
  - type: ComplexInteraction
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: MovementSpeedModifier
    baseWalkSpeed: 5
    baseSprintSpeed: 5
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/skeleton.rsi
    layers:
      - state: skeletonGoon
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      path: /Audio/Effects/bone_rattle.ogg
    damage:
      types:
        Blunt: 10
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 60
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Skeleton
  - type: NoSlip
  - type: Pullable
  - type: ZombieImmune
  - type: Speech
    speechVerb: Ghost
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 40
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/bone_rattle.ogg
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound

- type: entity
  id: MobCrunched
  parent: [ BaseMob, MobCombat ]
  name: transposed scientist
  description: A fellow who seems to have been shunted between dimensions. Not a good state to be in.
  components:
  - type: Advertise
    pack: CrunchedSpeech
    minimumWait: 10
    maximumWait: 45
  - type: Prying
    pryPowered: true
  - type: ComplexInteraction
  - type: NPCRetaliation
  - type: FactionException
  - type: NpcFactionMember
    factions:
    - Passive
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: MovementSpeedModifier
    baseWalkSpeed: 5
    baseSprintSpeed: 5
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/humanoid.rsi
    layers:
      - state: crunched
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcFist
    soundHit:
      collection: Flesh_Tear
    damage:
      types:
        Blunt: 7
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 60
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Bingle
  - type: NoSlip
  - type: Pullable
  - type: Speech
    speechVerb: Ghost
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 50
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/gib2.ogg
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound

- type: entity
  id: MobShade
  parent: [ BaseMob, MobCombat ]
  name: darkness
  description: Oh god.
  components:
  - type: Advertise
    pack: Shade
    minimumWait: 10
    maximumWait: 45
  - type: SpamEmitSound
    minInterval: 5
    maxInterval: 25
    sound:
      collection: CreepyWhisper
      params:
        volume: 3
        maxDistance: 12
        variation: 0.01
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: Prying
    pryPowered: true
  - type: ComplexInteraction
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 4
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/humanoid.rsi
    layers:
      - state: shade
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Blunt: 7
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 60
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: Damageable
    damageContainer: ManifestedSpirit
    damageModifierSet: HeavyArmorSyndi # Massive daamge reduction, but very low health.
  - type: NoSlip
  - type: Pullable
  - type: Speech
    speechVerb: Ghost
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 20
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/_Goobstation/Wraith/ghostrespawn.ogg
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound

- type: entity
  name: mechanical monstrosity
  id: MobMonstrosityHead
  parent: [ BaseMob, MobCombat ]
  description: A severely disfigured human torso which is forcibly kept alive by the mechanical parts...
  components:
  - type: SpamEmitSound
    minInterval: 5
    maxInterval: 25
    sound:
      path: /Audio/_Goobstation/Wraith/Mobs/mechmonstrositylaugh.ogg
      params:
        volume: -1
        maxDistance: 12
        variation: 0.01
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/monstrosity.rsi
    layers:
      - state: crawler
  - type: DamageStateVisuals
    states:
      Alive:
        Base: crawler
      Dead:
        Base: crawler_dead
  - type: MobState
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Dead
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Metallic
  - type: MeleeWeapon
    altDisarm: false
    animation: WeaponArcBite
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Slash: 10
  - type: NoSlip
  - type: Pullable
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: Tag
    tags:
    - DoorBumpOpener

- type: entity
  id: MobMonstrosityBody
  parent: [ BaseMob, MobCombat ]
  name: mechanical monstrosity
  description: A severely disfigured human torso which is forcibly kept alive by the mechanical parts...
  components:
  - type: SpamEmitSound
    minInterval: 5
    maxInterval: 25
    sound:
      path: /Audio/_Goobstation/Wraith/Mobs/mechmonstrositylaugh.ogg
      params:
        volume: -1
        maxDistance: 12
        variation: 0.01
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: Prying
    pryPowered: true
  - type: ComplexInteraction
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 4
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/monstrosity.rsi
    layers:
      - state: monstrosity
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Blunt: 7
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 60
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Metallic
  - type: NoSlip
  - type: Pullable
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 100
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/gib1.ogg
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound

- type: entity
  name: lion
  id: MobLion
  parent: [ BaseMob, MobCombat ]
  description: Oh christ.
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/lion.rsi
    layers:
      - state: lion
  - type: DamageStateVisuals
    states:
      Alive:
        Base: lion
      Dead:
        Base: lion_dead
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Bingle
  - type: MobState
  - type: MobThresholds
    thresholds:
      0: Alive
      40: Dead
  - type: MeleeWeapon
    altDisarm: false
    animation: WeaponArcBite
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Slash: 15
  - type: NoSlip
  - type: Pullable
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: Tag
    tags:
    - DoorBumpOpener

- type: entity
  id: MobAncientRepairBot # This mob is supposed to be a drone that auto-repairs stuff, but out of scope, and olny for adventure zones anyway.
  parent: [ BaseMob, MobCombat ]
  name: strange robot
  description: It looks like some sort of floating repair bot or something?
  components:
  - type: Advertise
    pack: Repairbot
    minimumWait: 15
    maximumWait: 45
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: Prying
    pryPowered: true
  - type: ComplexInteraction
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 4
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/ancient.rsi
    layers:
      - state: ancient_repairbot
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcClaw
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Piercing: 10
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 20
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: SpamEmitSound
    minInterval: 10
    maxInterval: 30
    sound:
      collection: Repairbot
      params:
        volume: -1
        maxDistance: 12
        variation: 0.05
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: HeavyArmorSyndi
  - type: PointLight
    enabled: true
    color: "#790c24"
    radius: 3
    softness: 5
    autoRot: true
    castShadows: false
  - type: NoSlip
  - type: Pullable
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 30
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              collection: MetalBreak
  - type: Tag
    tags:
    - DoorBumpOpener

- type: entity
  id: MobAncientGuardBot
  parent: MobAncientRepairBot
  name: strange robot
  description: A Security Robot, something seems a bit off.
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/ancient.rsi
    layers:
      - state: ancient_guardbot
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcClaw
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Piercing: 15
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 50
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              collection: MetalBreak

- type: entity
  id: MobAncientRobot1
  parent: [ BaseMob, MobCombat ]
  name: ???
  description: What the hell is that?
  components:
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: Prying
    pryPowered: true
  - type: ComplexInteraction
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 4
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/ancient.rsi
    layers:
      - map: ["enum.DamageStateVisualLayers.Base", "movement"]
        state: ancient_robot
  - type: SpriteMovement
    movementLayers:
      movement:
        state: ancient_robotM
    noMovementLayers:
      movement:
        state: ancient_robot
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcClaw
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Slash: 15
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepHeavySuit
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: HeavyArmorSyndi
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 50
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              collection: MetalBreak
  - type: TileMovement
  - type: PointLight
    enabled: true
    color: "#790c24"
    radius: 3
    softness: 5
    autoRot: true
    castShadows: false
  - type: Tag
    tags:
      - DoorBumpOpener
      - FootstepSound

- type: entity
  id: MobAncientRobot2
  parent: MobAncientRobot1
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/ancient.rsi
    layers:
      - map: ["enum.DamageStateVisualLayers.Base", "movement"]
        state: ancient_robot2
  - type: SpriteMovement
    movementLayers:
      movement:
        state: ancient_robot2M
    noMovementLayers:
      movement:
        state: ancient_robot2

- type: entity
  id: MobAncientRobot3
  parent: MobAncientRobot1
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/ancient.rsi
    layers:
      - map: ["enum.DamageStateVisualLayers.Base", "movement"]
        state: ancient_robot3
  - type: SpriteMovement
    movementLayers:
      movement:
        state: ancient_robot3M
    noMovementLayers:
      movement:
        state: ancient_robot3
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepBorg

- type: entity
  id: MobAncientLegs
  parent: MobAncientRobot1
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/ancient.rsi
    layers:
      - map: ["enum.DamageStateVisualLayers.Base", "movement"]
        state: ancient_legs
  - type: SpriteMovement
    movementLayers:
      movement:
        state: ancient_legsM
    noMovementLayers:
      movement:
        state: ancient_legs


# ----- Void summons -----

- type: entity
  id: MobSkeletonCommander
  parent: [ BaseMob, MobCombat ]
  name: skeleton commander
  description: A bulky skeleton here to encourage his friends.
  components:
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8
  - type: HTN
    rootTask:
      task: SimpleRangedHostileCompound
    blackboard:
      NavClimb: !type:Bool
        true
      NavSmash: !type:Bool
        true
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 4
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/skeletoncommander.rsi
    layers:
      - state: skeleton_commander
  - type: MeleeWeapon #TO DO: Increase attack range of this fella. Parity and what not.
    altDisarm: false
    angle: 0
    animation: WeaponArcSlash
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Blunt: 7
        Slash: 9
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 60
        mask:
          - MobMask
        layer:
          - Opaque
  - type: Damageable #Reduced blunt and heat damage according to code.
    damageContainer: Inorganic
    damageModifierSet: SiliconProtected
  - type: NoSlip
  - type: Pullable
  - type: ZombieImmune
  - type: GhostTakeoverAvailable
  - type: SummonLesserSkeleton
  - type: Rally
    whitelist:
      components:
      - WraithMinion
  - type: ActionGrant
    actions:
    - ActionRally
    - ActionSummonLesserSkeleton
  - type: Speech
    speechVerb: Ghost
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 90
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/bone_rattle.ogg

- type: entity
  name: Tentacle fiend
  parent: MobCorgiNarsi
  id: MobVoidSpiker
  description: Standing still is probably not a good idea.
  components:
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/void.rsi
    layers:
      - state: spiker
  - type: DamageStateVisuals
    states:
      Alive:
        Base: spiker
      Dead:
        Base: dead_spiker
  - type: MeleeWeapon
    altDisarm: false
    animation: WeaponArcBite
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Slash: 4 #Very weak damage, but makes target sleep on attack. I'm not sure if our balance fits with Goon's balance, because 4 damage is pathetically weak, but this creature might be only for kidnapping.
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: Nocturine
          Quantity: 100
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 4
  - type: TentacleHook
  - type: SpikerLash
  - type: SpikerShuffle
    statusEffectsToRemove:
    - Stun
    - KnockedDown
    - Electrocution
    - SlowedDown
    - Stutter
    - Drowsiness
    - TemporaryBlindness
  - type: ActionGrant
    actions:
    - ActionTentacleHook
    - ActionShuffle
    - ActionLash
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: MobState
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Dead
  - type: Grammar
    attributes:
      gender: male
      proper: true
  - type: Vocal
    sounds:
      Male: UnisexArachnid
      Female: UnisexArachnid
      Unsexed: UnisexArachnid
  - type: LanguageKnowledge
    speaks:
    - Dog
    understands:
    - Dog
    - TauCetiBasic

- type: entity
  name: Voidhound
  parent: MobCorgiNarsi
  id: MobVoidHound
  description: You probably shouldn't be staring at this thing.
  components:
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/void.rsi
    layers:
      - state: voidHound
  - type: DamageStateVisuals
    states:
      Alive:
        Base: voidHound
      Dead:
        Base: dead_voidHound
  - type: MeleeWeapon
    altDisarm: false
    animation: WeaponArcBite
    damage:
      types:
        Piercing: 8
        Slash: 7
  - type: Rushdown
  - type: Cloak
  - type: ActionGrant
    actions:
    - ActionRushdown
    - ActionCloak
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: MobState
  - type: MobThresholds
    thresholds:
      0: Alive
      80: Dead
  - type: Grammar
    attributes:
      gender: male
      proper: true
  - type: Tag
    tags:
    - DoorBumpOpener
    - VimPilot
  - type: Vocal
    sounds:
      Male: Cerberus
      Female: Cerberus
      Unsexed: Cerberus
  - type: LanguageKnowledge
    speaks:
    - Dog
    understands:
    - Dog
    - TauCetiBasic

- type: entity
  id: MobPlagueRatSmall
  suffix: Wraith
  parent: [ BaseMob, MobCombat ]
  name: plague rat
  description: A diseased looking rat.
  components:
  #- type: DiseasedRat
  #- type: EatFilth
  - type: RatBite
    reagents:
      Toxin: 8 # Swap for rat spit once virology is added
  - type: ActionGrant
    actions:
  # - ActionEatFilth
    - ActionRatBite
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/rat.rsi
    layers:
      - state: smallRat
  - type: NpcFactionMember
    factions:
      - Wraith
  - type: WraithMinion
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 60
        mask:
          - SmallMobMask
        layer:
          - SmallMobLayer
  - type: NoSlip
  - type: Pullable
  - type: ZombieImmune
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      path: /Audio/_Goobstation/Wraith/Attack/handcuffs.ogg
    damage:
      types:
        Slash: 3
        Blunt: 2
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: Toxin # Change this to rat spit once that disease effect gets coded.
          Quantity: 100
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 4
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 6
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Diona # Weak to heat
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 50
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Items/snap.ogg

- type: entity
  id: MobPlagueRatMedium
  suffix: Wraith
  parent: MobPlagueRatSmall
  name: plague-ridden rat
  description: A wretched, disgusting rat.
  components:
  - type: SummonRatDen
  - type: ActionGrant
    actions:
    - ActionRatDen
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/rat.rsi
    layers:
      - state: mediumRat
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      path: /Audio/_Goobstation/Wraith/Attack/handcuffs.ogg
    damage:
      types:
        Slash: 4
        Blunt: 4
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 80
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Items/snap.ogg

- type: entity
  id: MobPlagueRatLarge
  suffix: Wraith
  parent: MobPlagueRatSmall
  name: Bloated rat mass
  description: A horrible mass of pus and warts, that once used to look like a rat.
  components:
  - type: Rushdown #TO DO: Change the jump sound, or don't. Werewolf sound isn't perfect but works.
  - type: ActionGrant
    actions:
    - ActionRatSlam
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/rat.rsi
    layers:
      - state: giantRat
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.5
        density: 100
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      path: /Audio/_Goobstation/Wraith/Attack/handcuffs.ogg
    damage:
      types:
        Slash: 10
        Blunt: 5
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 100
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Items/snap.ogg

- type: entity
  id: MobMadRat
  suffix: Wraith
  parent: [ BaseMob, MobCombat ]
  name: mad rat
  description: A very weak rat spawned from a den.
  components:
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/rat.rsi
    layers:
      - state: smallRat
  - type: NpcFactionMember
    factions:
      - Wraith
  - type: WraithMinion
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 10
        mask:
          - SmallMobMask
        layer:
          - SmallMobLayer
  - type: TimedDespawn # The rat den is only supposed to ever have 5 mad rats at any given time. This is a much simpler way of doing this. Sue me.
    lifetime: 60.0
  - type: NoSlip
  - type: Pullable
  - type: ZombieImmune
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      path: /Audio/_Goobstation/Wraith/Attack/handcuffs.ogg
    damage:
      types:
        Slash: 3
        Blunt: 2
  - type: SolutionContainerManager
    solutions:
      melee:
        reagents:
        - ReagentId: Toxin # Change this to rat spit once that disease effect gets coded.
          Quantity: 100
  - type: MeleeChemicalInjector
    solution: melee
    transferAmount: 4
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 6
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Diona # Weak to heat
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 30
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Items/snap.ogg

- type: entity
  id: MobRotHulk
  suffix: Wraith
  parent: [ BaseMob, MobCombat ]
  name: Bloated abomination
  description: A rotting, walking mass of flesh.
  components:
  - type: SpamEmitSound
    minInterval: 5
    maxInterval: 25
    sound:
      collection: GoonZGroan
      params:
        volume: 3
        maxDistance: 12
        variation: 0.05
  - type: TriggerOnMobstateChange
    mobState:
      - Dead
  - type: SmokeOnTrigger
    duration: 5
    spreadAmount: 25
    solution:
      reagents:
        - ReagentId: Toxin
          Quantity: 25
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/rothulk.rsi
    layers:
      - state: rot_hulk
  - type: NpcFactionMember
    factions:
      - Wraith
  - type: WraithMinion
  - type: MobState
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.5
        density: 100
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: NoSlip
  - type: Pullable
  - type: ZombieImmune
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcFist
    soundHit:
      collection: Flesh_Tear
    damage:
      groups:
        Brute: 10
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 6
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Diona # Weak to heat
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 100
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/gib2.ogg

- type: entity
  id: MobRotHulkBuff
  suffix: Wraith
  parent: MobRotHulk
  name: Huge plague-ridden goliath
  components:
  - type: TriggerOnMobstateChange
    mobState:
      - Dead
  - type: SmokeOnTrigger
    duration: 5
    spreadAmount: 40
    solution:
      reagents:
        - ReagentId: Toxin
          Quantity: 50
  - type: Sprite
    drawdepth: Mobs
    sprite: _Goobstation/Wraith/Mobs/rothulk.rsi
    layers:
      - state: rot_hulkbuff
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcClaw
    soundHit:
      collection: Flesh_Stab
    damage:
      types:
        Slash: 10
        Blunt: 10
  - type: MovementSpeedModifier
    baseWalkSpeed: 4
    baseSprintSpeed: 6
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Moth # Not as weak to heat, but still vulnerable
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 160
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/gib2.ogg


# Wraith variants

- type: entity
  id: MobSkeletonGoonLesser
  suffix: Lesser
  parent: MobSkeletonGoon
  components:
  - type: WraithMinion

- type: entity
  id: MobSkeletonGoonWraith
  suffix: Wraith
  parent: MobSkeletonGoon
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobCrunchedWraith
  suffix: Wraith
  parent: MobCrunched
  components:
  - type: WraithMinion
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: VoidSummoned

- type: entity
  id: MobShadeWraith
  suffix: Wraith
  parent: MobShade
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobMonstrosityHeadWraith
  suffix: Wraith
  parent: MobMonstrosityHead
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobMonstrosityBodyWraith
  suffix: Wraith
  parent: MobMonstrosityBody
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobLionWraith
  suffix: Wraith
  parent: MobLion
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobAncientRepairBotWraith
  suffix: Wraith
  parent: MobAncientRepairBot
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobAncientGuardBotWraith
  suffix: Wraith
  parent: MobAncientGuardBot
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobAncientRobot1Wraith
  suffix: Wraith
  parent: MobAncientRobot1
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobAncientRobot2Wraith
  suffix: Wraith
  parent: MobAncientRobot2
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobAncientRobot3Wraith
  suffix: Wraith
  parent: MobAncientRobot3
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobAncientLegsWraith
  suffix: Wraith
  parent: MobAncientLegs
  components:
  - type: WraithMinion
  - type: VoidSummoned

- type: entity
  id: MobBearGoonWraith
  suffix: Wraith
  parent: MobBearGoon
  components:
  - type: WraithMinion
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: VoidSummoned

- type: entity
  id: MobBrullbarWraith
  suffix: Wraith
  parent: MobBrullbar
  components:
  - type: WraithMinion
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: VoidSummoned

- type: entity
  id: MobBGunbotWraith
  suffix: Wraith
  parent: GunBot
  components:
  - type: WraithMinion
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: VoidSummoned
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 50
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              collection: MetalBreak
          - !type:SpawnEntitiesBehavior
            spawn:
              SheetSteel1:
                min: 1
                max: 1

- type: entity
  id: MobNukebotWraith
  suffix: Wraith
  parent: NukeBot
  components:
  - type: WraithMinion
  - type: NpcFactionMember
    factions:
    - Wraith
  - type: VoidSummoned
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 75
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              collection: MetalBreak
          - !type:SpawnEntitiesBehavior
            spawn:
              SheetSteel1:
                min: 1
                max: 1

# Void summons

- type: entity
  id: MobSkeletonCommanderWraith
  suffix: Wraith
  parent: MobSkeletonCommander
  components:
  - type: WraithMinion
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8

- type: entity
  id: MobVoidSpikerWraith
  suffix: Wraith
  parent: MobVoidSpiker
  components:
  - type: WraithMinion
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8

- type: entity
  id: MobVoidHoundWraith
  suffix: Wraith
  parent: MobVoidHound
  components:
  - type: WraithMinion
  - type: EmitSoundOnSpawn
    sound:
      collection: Wraith_Raise
      params:
          volume: -5
          maxDistance: 10
          variation: 0.8
