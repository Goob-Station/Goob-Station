- type: entity
  name: contraband detector
  description: This finds any contraband you migth hide
  id: ContrabandDetector
  components:
  - type: Clickable
  - type: InteractionOutline
  - type: Transform
    anchored: false
  - type: Pullable
  - type: MovedByPressure
  - type: Physics
    bodyType: Static
    fixedRotation: true
  - type: Fixtures
    fixtures:
      slips:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.2,-0.2,0.2,0.2"
        hard: false
        layer:
          - LowImpassable
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.49,-0.49,-0.36,0.49"
        density: 1500
        mask:
        - FullTileMask
        layer:
        - GlassLayer
      fix2:
        shape:
          !type:PhysShapeAabb
          bounds: "0.49,0.49,0.36,-0.49"
        density: 1500
        mask:
        - FullTileMask
        layer:
        - GlassLayer
  - type: Sprite
    drawdepth: OverMobs
    sprite: _Goobstation/Structures/Machines/contraband_detector.rsi
    state: detector
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 600
      behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 300
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel:
            min: 5
            max: 5
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: StepTrigger
    requiredTriggeredSpeed: 0
    stepOn: true
    ignoreWeightless: true
    triggerGroups: # Goobstation
      types:
      - ContrabandDetector
  - type: ContrabandDetector
    noDetect:
        path: /Audio/Effects/beep_landmine.ogg
        params:
            maxDistance: 10
    detect:
        path: /Audio/Effects/chime.ogg
        params:
            maxDistance: 10
  - type: ApcPowerReceiver
    powerLoad: 250
  - type: ExtensionCableReceiver
  - type: Rotatable
    rotateWhileAnchored: false
    rotateWhilePulling: true
  - type: Repairable
  - type: DeployableBarrier
    fixture: ""
  - type: AccessReader
    access: [["Security"]]
  - type: Lock
    locked: false
    lockOnClick: true # toggle lock just by clicking on detector
    lockTime: 2
    unlockTime: 2
