# SPDX-FileCopyrightText: 2025 Armok <155400926+ARMOKS@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Aviu00 <93730715+Aviu00@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 2025 Solstice <solsticeofthewinter@gmail.com>
# SPDX-FileCopyrightText: 2025 Ted Lukin <66275205+pheenty@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 shityaml <unalterableness@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  name: DT-20 'Judgement'
  parent: [BaseItem, BaseSecurityContraband]
  id: StunSpear
  description: A stun baton for incapacitating people with. Actively harming with this is considered bad tone.
  components:
  - type: Tag
    tags:
    - Stunbaton
  - type: Sprite
    sprite: Objects/Weapons/Melee/stunbaton.rsi
    layers:
    - state: stunbaton_off
      map: [ "enum.ToggleVisuals.Layer" ]
  - type: Sharp
  - type: MeleeWeapon
    canWideSwing: false
    wideAnimationRotation: -135
    damage:
      types:
        Blunt: 5
        Piercing: 13
    bluntStaminaDamageFactor: 2.0
    angle: 0
    animation: WeaponArcThrust
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: Item
    heldPrefix: off
    size: Ginormous
  - type: Clothing
    sprite: Objects/Weapons/Melee/stunbaton.rsi
    quickEquip: false
    slots:
    - Back
    - suitStorage
  - type: Wieldable
    unwieldOnUse: false
  - type: IncreaseDamageOnWield
    damage:
      types:
        Piercing: 6
  - type: DisarmMalus
    malus: 0.6
  - type: Boomerang
  - type: ItemSwitch
    needsPower: true
    defaultState: off
    state: "off"
    showLabel: true
    states:
      off: !type:ItemSwitchState
        verb: off
        energyPerUse: 0
        sprite:
          sprite: _Goobstation/Objects/Weapons/Melee/justice.rsi
          state: icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -135
          attackRate: 1.5
          damage:
            types:
              Piercing: 12
          soundHit:
            path: /Audio/Weapons/bladeslice.ogg
          angle: 60
          animation: WeaponArcThrust
        - type: DamageOtherOnHit
          damage:
            types:
              Piercing: 16
        

      stun: !type:ItemSwitchState
        verb: stun
        energyPerUse: 50
        sprite:
          sprite: _Goobstation/Objects/Weapons/Melee/justice.rsi
          state: stun-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -135
          attackRate: 1.5
          damage:
            types:
              Shock: 0
          angle: 60
          animation: WeaponArcThrust
          soundHit:
            path: /Audio/_Goobstation/Weapons/Effects/energy-short-sword-swing.ogg
        - type: StaminaDamageOnHit
          damage: 20
          overtime: 16
        soundStateActivate:
          collection: sparks
          params:
            variation: 0.250

      ion: !type:ItemSwitchState
        verb: ion
        energyPerUse: 65
        sprite:
          sprite: _Goobstation/Objects/Weapons/Melee/justice.rsi
          state: ion-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -135
          attackRate: 1.5
          damage:
            types:
              Ion: 24
              Shock: 4
          angle: 60
          animation: WeaponArcThrust
          soundHit:
            path: /Audio/_Goobstation/Weapons/Effects/energy-short-sword-swing.ogg
        - type: DamageOtherOnHit
          damage:
            types:
              Ion: 28
              Shock: 8
        soundStateActivate:
          collection: sparks
          params:
            variation: 0.250

      lethal: !type:ItemSwitchState
        verb: lethal
        energyPerUse: 80
        sprite:
          sprite: _Goobstation/Objects/Weapons/Melee/justice.rsi
          state: lethal-icon
        components:
        - type: MeleeWeapon
          wideAnimationRotation: -135
          attackRate: 1.5
          damage:
            types:
              Piercing: 4
              Heat: 12
          angle: 60
          animation: WeaponArcThrust
          soundHit:
            path: /Audio/_Goobstation/Weapons/Effects/energy-short-sword-swing.ogg
        - type: DamageOtherOnHit
          damage:
            types:
              Piercing: 8
              Heat: 16
        soundStateActivate:
          collection: sparks
          params:
            variation: 0.250