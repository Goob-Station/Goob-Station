- type: entity
  name: polymer baton
  parent: [BaseItem, BaseSecurityContraband]
  id: PolymerBaton
  description: A lightweight, durable baton made from advanced polymers. Delivers less-than-lethal force for compliance and control.
  components:
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Melee/polybaton.rsi
    state: icon
    scale: 0.9, 0.9
  - type: Clothing
    sprite: _Goobstation/Objects/Weapons/Melee/polybaton.rsi
    quickEquip: false
    slots:
      - belt
  - type: MeleeWeapon
    animationRotation: -180
    wideAnimationRotation: -135
    damage:
      types:
        Blunt: 12
    soundHit:
      path: /Audio/_Goobstation/Weapons/Baton/woodhit.ogg
  - type: StaminaDamageOnHit
    damage: 15
  - type: MeleeThrowOnHit
    distance: 1
    speed: 5
  - type: Item
    size: Normal
    storedRotation: -75
    shape:
    - 0,0,1,2
  - type: Tag
    tags:
    - SecBeltEquip

- type: entity
  id: SpearStun
  parent: [BaseItem, BaseSecurityContraband]
  name: stun spear
  description: A compact, throwable spear with a retractable shaft. Designed for both melee and ranged use.
  components:
  - type: Item
    size: Ginormous
    storedRotation: 45
    heldPrefix: off
    shape:
      - 0,0,3,0
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Melee/telespear.rsi
    layers:
      - state: icon-off
        map: [ "enum.ItemToggleVisuals.Layer" ]
  - type: Clothing
    sprite: _Goobstation/Objects/Weapons/Melee/telespear.rsi
    slots:
      - Back
      - suitStorage
  - type: Pullable
  - type: Fixtures
    fixtures:
      fix1:
        shape: !type:PolygonShape
          vertices:
            - -0.08,-0.06
            - -0.06,-0.08
            - 0.40,0.30
            - 0.30,0.40
        density: 20
        mask:
          - ItemMask
        restitution: 0.3
        friction: 0.2
  - type: ItemToggle
    predictable: false
    toggleOnUse: true
    toggleOnActivate: false
    soundActivate:
      collection: sparks
      params:
        variation: 0.250
    soundDeactivate:
      collection: sparks
      params:
        variation: 0.250
  - type: Wieldable
    unwieldOnUse: false
    applyNewPrefixOnShutdown: true
    newPrefixOnShutdown: off
  - type: Sharp
  - type: DisarmMalus
    malus: 0.6
  - type: ComponentToggler
    components:
      - type: ItemToggleMeleeWeapon
        activatedDamage:
          types:
            Shock: 5
      - type: Stunbaton
        energyPerUse: 120
        lightAttackEnergyMultiplier: 1.5
      - type: StaminaDamageOnHit
        damage: 15
        overtime: 40
        lightAttackDamageMultiplier: 5
        lightAttackOvertimeDamageMultiplier: 0
        sound: /Audio/Weapons/egloves.ogg
      - type: StaminaDamageOnCollide
        damage: 15
        overtime: 40
        sound: /Audio/Weapons/egloves.ogg
      - type: DelayedKnockdownOnHit
        useDelay: stunbaton
      - type: UseDelayBlockMelee
        delays:
          - stunbaton
      - type: Battery
        maxCharge: 360
        startingCharge: 360
      - type: UseDelay
        delays:
          stunbaton:
            length: 2.5
  - type: IncreaseDamageOnWield
    damage:
      types:
        Piercing: 6
  - type: MeleeWeapon
    canWideSwing: false
    range: 2.2
    animationRotation: -135
    attackRate: 0.8
    damage:
      types:
        Blunt: 5
        Piercing: 13
    soundHit:
      collection: MetalThud
  - type: EmbeddableProjectile
    embedSound:
      path: /Audio/Weapons/bladeslice.ogg
  - type: LandAtCursor
  - type: ThrowingAngle
    angle: 225
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 36
  - type: Appearance
  - type: ItemToggleVisuals
  - type: GenericVisualizer
    visuals:
      enum.ItemToggleVisuals.State:
        enum.ItemToggleVisuals.Layer:
          True: { state: icon }
          False: { state: icon-off }
  - type: Tag
    tags:
    - SecBeltEquip
    - Stunbaton

- type: entity
  name: stun spear 2
  parent: [BaseItem, BaseSecurityContraband]
  id: stun spear 2
  description: A stun baton for incapacitating people with. Actively harming with this is considered bad tone.
  components:
  - type: Tag # goob edit
    tags:
    - Stunbaton
  - type: Sprite
    sprite: Objects/Weapons/Melee/stunbaton.rsi
    layers:
    - state: stunbaton_off
      map: [ "enum.ToggleVisuals.Layer" ]
  - type: Stunbaton
    energyPerUse: 50
    lightAttackEnergyMultiplier: 2 # Goob edit
  - type: Sharp
  - type: ItemToggle
    predictable: false
    wieldToggle: false
    toggleOnActivate: true
    soundActivate:
      collection: sparks
      params:
        variation: 0.250
    soundDeactivate:
      collection: sparks
      params:
        variation: 0.250
    soundFailToActivate:
      path: /Audio/Machines/button.ogg
      params:
        variation: 0.250
  - type: ItemTogglePrefix
    prefixOn: on
    prefixOff: off
  - type: ItemToggleMeleeWeapon
    activatedDamage:
      types:
        Blunt: 0
  - type: MeleeWeapon
    wideAnimationRotation: -135
    damage:
      types:
        Blunt: 5
        Piercing: 13
    bluntStaminaDamageFactor: 2.0
    angle: 0
    animation: WeaponArcThrust
  # it was ~35 now it's 55 so it's a buff ig
  - type: StaminaDamageOnHit # goob edited
    damage: 15
    overtime: 40
    lightAttackDamageMultiplier: 5
    lightAttackOvertimeDamageMultiplier: 0
    sound: /Audio/Weapons/egloves.ogg
  - type: StaminaDamageOnCollide # goob edited
    damage: 15
    overtime: 40
    sound: /Audio/Weapons/egloves.ogg
  - type: DelayedKnockdownOnHit # Goobstation
    useDelay: stunbaton
  - type: UseDelayBlockMelee # Goobstation
    delays:
    - stunbaton
  - type: EmbeddableProjectile
    offset: -0.15,0.0
  - type: ThrowingAngle
    angle: 225
  - type: LandAtCursor # it deals stamina damage when thrown
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: UseDelay
    delays: # Goobstation
      stunbaton:
        length: 2.5
  - type: Item
    heldPrefix: off
    size: Normal
  - type: Clothing
    sprite: Objects/Weapons/Melee/stunbaton.rsi
    quickEquip: false
    slots:
    - Back
    - suitStorage
  - type: Wieldable
  - type: IncreaseDamageOnWield
    damage:
      types:
        Piercing: 6
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 24
  - type: DisarmMalus
    malus: 0.225
  - type: Appearance
  - type: GenericVisualizer
    visuals:
     enum.ToggleVisuals.Toggled:
        enum.ToggleVisuals.Layer:
          True: {state: stunbaton_on}
          False: {state: stunbaton_off}

- type: entity
  id: SpearTelescopic
  parent: [BaseItem, BaseSecurityContraband]
  name: telescopic spear
  description: A compact, throwable spear with a retractable shaft. Designed for both melee and ranged use.
  components:
  - type: Item
    size: Normal
    storedRotation: 45
    heldPrefix: off
    shape:
      - 0,0,3,0
  - type: Sprite
    sprite: _Goobstation/Objects/Weapons/Melee/telespear.rsi
    layers:
      - state: icon-off
        map: [ "enum.ItemToggleVisuals.Layer" ]
  - type: Clothing
    sprite: _Goobstation/Objects/Weapons/Melee/telespear.rsi
    slots:
      - Back
      - suitStorage
  - type: Fixtures
    fixtures:
      fix1:
        shape: !type:PolygonShape
          vertices:
            - -0.08,-0.06
            - -0.06,-0.08
            - 0.40,0.30
            - 0.30,0.40
        density: 20
        mask:
          - ItemMask
        restitution: 0.3
        friction: 0.2
  - type: EmbeddableProjectile # This is goofy, but I can't make it toggleable because it tries
    offset: -0.15,0.0 # to unstick from owned entity on component shutdown and drops out of hand
  - type: LandAtCursor
  - type: ThrowingAngle
    angle: 225
  - type: ItemToggle
    onActivate: false
    wieldToggle: false
    soundActivate:
      path: /Audio/Weapons/telescopicon.ogg
    soundDeactivate:
      path: /Audio/Weapons/telescopicoff.ogg
  - type: ComponentToggler
    components:
      - type: Sharp
      - type: DisarmMalus
        malus: 0.6
      - type: Wieldable
        unwieldOnUse: false
        applyNewPrefixOnShutdown: true
        newPrefixOnShutdown: off
      - type: DamageOtherOnHit
        damage:
          types:
            Piercing: 36
  - type: ItemToggleSize
    activatedSize: Ginormous
  - type: ItemToggleMeleeWeapon
    activatedSoundOnHit:
      path: /Audio/Weapons/bladeslice.ogg
    activatedDamage:
      types:
        Piercing: 18
  - type: IncreaseDamageOnWield
    damage:
      types:
        Piercing: 6
  - type: MeleeWeapon
    canWideSwing: false
    range: 2.2
    animationRotation: -135
    attackRate: 0.8
    damage:
      types:
        Blunt: 5
        Piercing: 5
    soundHit:
      collection: MetalThud
  - type: Appearance
  - type: ItemToggleVisuals
  - type: GenericVisualizer
    visuals:
      enum.ItemToggleVisuals.State:
        enum.ItemToggleVisuals.Layer:
          True: { state: icon }
          False: { state: icon-off }
  - type: Tag
    tags:
    - SecBeltEquip

- type: entity
  id: Betty
  parent: [BaseItem, BaseSecurityContraband]
  name: Betty
  description: An old intricate souvenir made from tough hyper-woven durathread repurposed for riot combat.
  components:
    - type: Sprite
      sprite: _Goobstation/Objects/Weapons/Melee/betty.rsi
      state: icon
    - type: DisarmMalus
      malus: 0.5
    - type: UseDelay
      delay: 10
    - type: Item
      heldPrefix: off
      sprite: _Goobstation/Objects/Weapons/Melee/betty.rsi
      shape:
      - 0,0,2,0
      storedRotation: 45
    - type: Sharp
    - type: MeleeWeapon
      animationRotation: 225
      wideAnimationRotation: -135
      attackRate: 0.8
      damage:
        types:
          Slash: 18
      soundHit:
        path: /Audio/Weapons/bladeslice.ogg
    - type: ItemSwitch
      state: off
      states:
        off: !type:ItemSwitchState
          sprite:
            sprite: _Goobstation/Objects/Weapons/Melee/betty.rsi
            state: icon
          components:
            - type: Item
              sprite: _Goobstation/Objects/Weapons/Melee/betty.rsi
              shape:
              - 0,0,2,0
              storedRotation: 45
            - type: Sharp
            - type: MeleeWeapon
              animationRotation: 225
              wideAnimationRotation: -135
              attackRate: 0.8
              damage:
                types:
                  Slash: 18
              soundHit:
                path: /Audio/Weapons/bladeslice.ogg
          soundStateActivate:
            path: /Audio/_Goobstation/Misc/umbrella.ogg
        on: !type:ItemSwitchState
          sprite:
            sprite: _Goobstation/Objects/Weapons/Melee/betty.rsi
            state: icon-on
          components:
            - type: HeldSpeedModifier
              walkModifier: 0.5
              sprintModifier: 0.5
            - type: MeleeWeapon
              mustBeEquippedToUse: true # This thing shouldn't be able to attack at all but setting attackRate to 0 breaks stuff
              damage:
                types:
                  Blunt: 30
              soundHit:
                collection: TrayHit
            - type: MeleeThrowOnHit
              throwWhileOnDelay: true
              distance: 3
            - type: KnockdownOnHit
            - type: MultiHandedItem
            - type: StaminaDamageOnHit
              damage: 75
            - type: Item
              size: Ginormous
              sprite: _Goobstation/Objects/Weapons/Melee/betty.rsi
              heldPrefix: on
              storedRotation: -45
            - type: CounterattackWeapon
              setItemSwitch: off
          soundStateActivate:
            path: /Audio/_Goobstation/Misc/umbrella.ogg
