# SPDX-FileCopyrightText: 2025 GoobBot <uristmchands@proton.me>
# SPDX-FileCopyrightText: 2025 Lumminal <81829924+Lumminal@users.noreply.github.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  id: BaseMobWerewolf
  name: Werewolf
  parent: BaseMobSpeciesOrganic
  components:
  - type: Hunger
  - type: HumanoidAppearance
    species: SlimePerson # add werewolf
  - type: Body
    prototype: Slime # add werewolf
    requiredLegs: 2
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Werewolf
  - type: Bloodstream
    bloodReagent: Blood
  - type: ActionGrant
    actions:
    - ActionRevertPolymorph
    - ActionWerewolfGut
    - ActionWerewolfAmbush
    - ActionWerewolfHowl
    - ActionWerewolfSmokescreen
    - ActionWerewolfCursedBite
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 300
        restitution: 0.0
        mask:
          - MobMask
        layer:
          - MobLayer
  - type: WerewolfAmbush
  - type: WerewolfGut
    whitelist:
      tags:
      - Kidneys
      - Liver
      - Stomach
      - Heart
  - type: WerewolfHowl
    oldDamageModifier: Werewolf
    newDamageModifier: WerewolfHowl
  - type: GrantWerewolfMoves
  - type: WerewolfCounter
  - type: WerewolfSmokescreen
    spreadAmount: 30
  - type: WerewolfCursedBite
    startingForm: DefaultFormWerewolf
    pathLockedForm: DefaultFormWerewolf
    formsToTransfer:
    - DefaultFormWerewolf
    - ExplosiveFormWerewolf
    bleedingAmount: -50
    damage:
      types:
       Piercing: 45

