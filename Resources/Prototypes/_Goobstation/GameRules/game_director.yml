# SPDX-FileCopyrightText: 2025 Aiden <28298836+Aidenkrz@users.noreply.github.com>
# SPDX-FileCopyrightText: 2025 Aidenkrz <aiden@djkraz.com>
# SPDX-FileCopyrightText: 2025 gus <august.eymann@gmail.com>
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entityTable
  id: GameDirectorTable
  table: !type:AllSelector # we need to pass a list of rules, since rules have further restrictions to consider via StationEventComp
    children:
      - !type:NestedSelector
        tableId: SpaceTrafficControlTable
      - !type:NestedSelector
        tableId: BasicGameRulesTable

- type: entity
  id: HellDynamic
  parent: BaseGameRule
  categories: [ HideSpawnMenu ]
  components:
  - type: GameRule
    minPlayers: 40
  - type: GameDirector
    livingChaosChange: -0.02 # double standard value
    deadChaosChange: 0.02
    chaosExponent: 1 # five billion loneops
    eventIntervalMin: 90
    eventIntervalMax: 270
    minStartingChaos: 15
    maxStartingChaos: 30 # ling-blob-nukeops is fun
  - type: SelectedGameRules
    scheduledGameRules: !type:NestedSelector
      tableId: GameDirectorTable

- type: entity
  id: CombatDynamic
  parent: BaseGameRule
  categories: [ HideSpawnMenu ]
  components:
  - type: GameRule
    minPlayers: 25
  - type: GameDirector
  # default config
  - type: SelectedGameRules
    scheduledGameRules: !type:NestedSelector
      tableId: GameDirectorTable

- type: entity
  id: CalmDynamic
  parent: CombatDynamic
  categories: [ HideSpawnMenu ]
  components:
  - type: GameRule
    minPlayers: 0
  - type: GameDirector
    noRoundstartAntags: true
    livingChaosChange: -0.006
    deadChaosChange: 0.015
    chaosExponent: 1.3 # nothing ever happens
    eventIntervalMin: 180
    eventIntervalMax: 540

- type: entity
  id: NewDirectorDebug
  parent: BaseGameRule
  categories: [ HideSpawnMenu ]
  components:
  - type: GameRule
    minPlayers: 25
  - type: GameDirector
    minStartingChaos: 800
    maxStartingChaos: 1600
    eventIntervalMin: 2
    eventIntervalMax: 6
    livingChaosChange: -38.4
    ignoreTimings: true
  # default config
  - type: SelectedGameRules
    scheduledGameRules: !type:NestedSelector
      tableId: GameDirectorTable
