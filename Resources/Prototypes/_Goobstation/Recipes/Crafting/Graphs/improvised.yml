# hex nut
- type: constructionGraph
  id: HexNutDoubleGraph
  start: start
  graph:
  - node: start
    edges:
    - to: HexNutStack
      completed:
      - !type:SetStackCount
        amount: 2
      steps:
      - material: Steel
        amount: 1
  - node: HexNutStack
    entity: MaterialHexNutSingle

- type: construction
  id: HexNutDouble
  name: Hex Nut
  category: construction-category-misc
  description: Two hex nuts handcrafted from one steel.
  graph: HexNutDoubleGraph
  startNode: start
  targetNode: HexNutStack
  icon:
    sprite: _Goobstation/Objects/Materials/materials.rsi
    state: hex_1
  objectType: Item

# screw

- type: constructionGraph
  id: ScrewGraph
  start: start
  graph:
  - node: start
    edges:
    - to: ScrewStack
      completed:
      - !type:SetStackCount
        amount: 2
      steps:
      - material: Steel
        amount: 1
  - node: ScrewStack
    entity: MaterialScrewSingle

- type: construction
  id: Screw
  name: Screw
  category: construction-category-misc
  description: Two screws crafted from one steel.
  graph: ScrewGraph
  startNode: start
  targetNode: ScrewStack
  icon:
    sprite: _Goobstation/Objects/Materials/materials.rsi
    state: screw_1
  objectType: Item

# wooden handle

#- type: constructionGraph
#  id: WoodenHandleGraph
#  start: start
#  graph:
#  - node: start
#    edges:
#    - to: Handle
#      steps:
#      - material: WoodPlank
#        amount: 5
#        doAfter: 6
#  - node: Handle
#    entity: WoodenHandle
#
#
#- type: construction
#  id: WoodenHandleCraft
#  name: Wooden Handle
#  description: A simple wooden handle for tools.
#  graph: WoodenHandleGraph
#  startNode: start
#  targetNode: Handle
#  icon:
#    sprite: _Goobstation/Objects/Misc/Crafting/wooden_handle.rsi
#    state: icon
#  objectType: Item
#  hide: true

# contra bag
# graph made by a program that mades graphs easier to make so lets hope it works
- type: constructionGraph
  id: ContrabandSatchelGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - material: Steel
        amount: 5
        doAfter: 5
      - material: Plastic
        amount: 3
        doAfter: 5
  - node: mid
    entity: ContrabandBagUnfinished
    edges:
    - to: final
      steps:
      - tool: Welding
        doAfter: 5
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
      - material: HexNut
        amount: 2
        doAfter: 3
      - tool: Anchoring
        doAfter: 1
      - tool: Anchoring
        doAfter: 1
      - material: Cable
        amount: 10
        doAfter: 2
      - tool: Cutting
        doAfter: 2
      - tool: Cutting
        doAfter: 2
      - tool: Cutting
        doAfter: 2
  - node: final
    entity: ContrabandBag

- type: construction
  id: ContrabandSatchelCraft
  name: contraband bag
  description: A steel bag for hiding from metal detectors.
  graph: ContrabandSatchelGraph
  category: construction-category-misc
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Storage/contra_satchel.rsi
    state: icon
  objectType: Item

# stupidly over complicated makeshift defib craft:
- type: constructionGraph
  id: MakeshiftDefibGraph
  start: start
  graph:
  - node: start
    edges:
    - to: screwing
      steps:
      - material: Steel
        amount: 10
        doAfter: 5
      - material: Cable
        amount: 2
        doAfter: 5
  - node: screwing
    entity: MakeshiftDefibUnfinished
    edges:
    - to: final
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 1
      - tool: Anchoring
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 1
      - tool: Anchoring
        doAfter: 1
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 2
      - tool: Welding
        doAfter: 5
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 4
        doAfter: 4
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - tag: PowerCell
        name: power cell
        icon:
          sprite: Objects/Power/power_cells.rsi
          state: o2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
      - material: Steel
        amount: 2
        doAfter: 2
      - material: Cable
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 5
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Cloth
        amount: 4
        doAfter: 3
      - material: Screw
        amount: 8
        doAfter: 4
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
  - node: final
    edges: []
    entity: MakeshiftDefib

- type: construction
  id: MakeshiftDefibCraft
  name: makeshift defibrillator
  category: construction-category-misc
  description: Stupidly complex makeshift defibrillator for all your needs.
  graph: MakeshiftDefibGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Devices/defib.rsi
    state: icon
  objectType: Item

# tide flipper zero

- type: constructionGraph
  id: TideFlipperZeroGraph
  start: start
  graph:
  - node: start
    edges:
    - to: screwing
      steps:
      - tag: Payload
        name: remote signaller
        icon:
          sprite: Objects/Devices/signaller.rsi
          state: signaller
        doAfter: 5
      - tag: Multitool
        name: multitool
        icon:
          sprite: Objects/Tools/multitool.rsi
          state: icon
        doAfter: 5
  - node: screwing
    entity: TideFlipperZeroUnfinished
    edges:
    - to: final
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - component: IdCard
        doAfter: 2
        name: id card
        icon:
          sprite: Objects/Misc/id_cards.rsi
          state: idpassenger
      - tool: Pulsing
        doAfter: 8
      - component: IdCard # go rob someone for this
        doAfter: 2
        name: id card
        icon:
          sprite: Objects/Misc/id_cards.rsi
          state: idpassenger
      - tool: Pulsing
        doAfter: 8
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
  - node: final
    edges: []
    entity: TideFlipperZero

- type: construction
  id: TideFlipperCraft
  name: makeshift tide flipper
  category: construction-category-misc
  description: Makeshift hand remote that can be used to hack doors without access.
  graph: TideFlipperZeroGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Devices/tideflipper.rsi
    state: icon
  objectType: Item

# metal baseball bat

- type: constructionGraph
  id: MetalBaseballBatGraph
  start: start
  graph:
  - node: start
    edges:
    - to: Metaling
      steps:
      - material: WoodPlank
        amount: 5
        doAfter: 5
  - node: Metaling
    entity: WoodenHandleBat
    edges:
    - to: final
      steps:
      - material: Steel
        amount: 5
        doAfter: 4
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
      - material: Steel
        amount: 5
        doAfter: 4
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
  - node: final
    edges: []
    entity: MetalBaseballBat

- type: construction
  id: MetalBaseballBatCrafting
  name: makeshift metal baseball bat
  category: construction-category-weapons
  description: Makeshift hard and robust metal baseball bat with a wooden handle.
  graph: MetalBaseballBatGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Weapons/Melee/Ghetto/metal_bat.rsi
    state: icon
  objectType: Item

# makeshift hammer
- type: constructionGraph
  id: HammerConstructionGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - material: WoodPlank
        amount: 5
        doAfter: 5
  - node: mid
    entity: WoodenHandleHammer
    edges:
    - to: final
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
  - node: final
    entity: MeleeHammer

- type: construction
  id: HandmadeHammerCrafting
  name: handmade hammer
  category: construction-category-weapons
  description: A normal handmade hammer.
  graph: HammerConstructionGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Weapons/Melee/hammer.rsi
    state: icon
  objectType: Item

# makeshift jammer

- type: constructionGraph
  id: MakeshiftJammerGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - tag: Payload
        name: remote signaller
        icon:
          sprite: Objects/Devices/signaller.rsi
          state: signaller
        doAfter: 10
      - tag: Multitool
        name: multitool
        icon:
          sprite: Objects/Tools/multitool.rsi
          state: icon
        doAfter: 5
  - node: mid
    entity: MakeshiftJammerUnfinished
    edges:
    - to: final
      steps:
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - tool: Pulsing
        doAfter: 4
      - component: EncryptionKey # 3 keys because i can already smell people malding
        doAfter: 5
        name: encryption key
        icon:
          sprite: Objects/Devices/encryption_keys.rsi
          state: crypt_gray
      - component: EncryptionKey
        doAfter: 5
        name: encryption key
        icon:
          sprite: Objects/Devices/encryption_keys.rsi
          state: crypt_gray
      - component: EncryptionKey
        doAfter: 5
        name: encryption key
        icon:
          sprite: Objects/Devices/encryption_keys.rsi
          state: crypt_gray
      - tool: Screwing
        doAfter: 2
      - tag: PowerCell
        name: power cell
        icon:
          sprite: Objects/Power/power_cells.rsi
          state: o2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: final
    entity: MakeshiftJammer
    edges: []

- type: construction
  id: MakeshiftJammerCrafting
  name: makeshift jammer
  category: construction-category-misc
  description: Makeshift jammer, not efficient, but it does its job.
  graph: MakeshiftJammerGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Devices/makeshift_jammer.rsi
    state: jammer
  objectType: Item
# clothing

# heavy boots
- type: constructionGraph
  id: HeavyBootsGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - material: Steel
        amount: 3
        doAfter: 5
  - node: mid
    entity: ScrapBoots
    edges:
    - to: final
      steps:
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - tool: Hammering
        doAfter: 2
  - node: final
    entity: ClothingShoesHeavyBoots
    edges: []

- type: construction
  id: HeavyBootsCrafting
  name: makeshift metal boots
  category: construction-category-clothing
  description: Makeshift heavy metal boots.
  graph: HeavyBootsGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Clothing/Shoes/Boots/heavy_boots.rsi
    state: icon
  objectType: Item

# helmet

- type: constructionGraph
  id: MakeshiftHelmetGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - material: Steel
        amount: 5
        doAfter: 5
  - node: mid
    entity: ScrapHelmet
    edges:
    - to: final
      steps:
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Cable
        amount: 4
        doAfter: 4
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Glass
        amount: 4
        doAfter: 4
      - tool: Welding
        doAfter: 8
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
  - node: final
    entity: ClothingHeadMakeshiftHelmet
    edges: []

- type: construction
  id: MakeshiftHelmetCraft
  name: makeshift light helmet
  category: construction-category-clothing
  description: Makeshift light helmet for protection.
  graph: MakeshiftHelmetGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Clothing/Head/Helmets/helmet.rsi
    state: icon
  objectType: Item

# light vest

- type: constructionGraph
  id: MakeshiftLightVestGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - material: Steel
        amount: 5
        doAfter: 5
  - node: mid
    entity: ScrapLightVest
    edges:
    - to: final
      steps:
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 1
      - tool: Anchoring
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Cable
        amount: 8
        doAfter: 8
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - material: Cable
        amount: 8
        doAfter: 8
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 1
      - tool: Anchoring
        doAfter: 1
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - tool: Hammering
        doAfter: 2
  - node: final
    entity: ClothingOuterArmorMakeshiftVestLight

- type: construction
  id: MakeshiftLightVestCraft
  name: makeshift light vest
  category: construction-category-clothing
  description: Complex makeshift light vest for protection. Open a blacksmith man.
  graph: MakeshiftLightVestGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Clothing/Armor/light_armor.rsi
    state: icon
  objectType: Item

# heavy vest
# gab forgive me for making these crafts so long
# its for the balance i swear
- type: constructionGraph
  id: MakeshiftHeavyVestGraph
  start: start
  graph:
  - node: start
    edges:
    - to: mid
      steps:
      - material: Steel
        amount: 5
        doAfter: 5
  - node: mid
    entity: ScrapHeavyVest
    edges:
    - to: final
      steps:
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Plasteel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Plasteel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 1
      - tool: Anchoring
        doAfter: 1
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 1
      - tool: Cutting
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Steel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 1
      - tool: Screwing
        doAfter: 1
      - material: Plasteel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - material: Plasteel
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
      - tool: Welding
        doAfter: 8
      - tool: Hammering
        doAfter: 1
      - tool: Hammering
        doAfter: 1
  - node: final
    entity: ClothingOuterArmorMakeshiftVestHeavy
    edges: []

- type: construction
  id: MakeshiftHeavyVestCraft
  name: makeshift heavy vest
  category: construction-category-clothing
  description: A complex heavy armor vest, made with steel, plasteel, and nails.
  graph: MakeshiftHeavyVestGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Clothing/Armor/heavy_armor.rsi
    state: icon
  objectType: Item
