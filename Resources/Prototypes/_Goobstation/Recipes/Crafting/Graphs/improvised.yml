# hex nut
- type: constructionGraph
  id: HexNutDoubleGraph
  start: start
  graph:
  - node: start
    edges:
    - to: HexNutStack
      completed:
      - !type:SetStackCount
        amount: 2
      steps:
      - material: Steel
        amount: 1
  - node: HexNutStack
    entity: MaterialHexNutSingle

- type: construction
  id: HexNutDouble
  name: Hex Nut
  description: Two hex nuts handcrafted from one steel.
  graph: HexNutDoubleGraph
  startNode: start
  targetNode: HexNutStack
  icon:
    sprite: _Goobstation/Objects/Materials/materials.rsi
    state: hex_1
  objectType: Item

# screw

- type: constructionGraph
  id: ScrewGraph
  start: start
  graph:
  - node: start
    edges:
    - to: ScrewStack
      completed:
      - !type:SetStackCount
        amount: 2
      steps:
      - material: Steel
        amount: 1
  - node: ScrewStack
    entity: MaterialScrewSingle

- type: construction
  id: Screw
  name: Screw
  description: Two screws crafted from one steel.
  graph: ScrewGraph
  startNode: start
  targetNode: ScrewStack
  icon:
    sprite: _Goobstation/Objects/Materials/materials.rsi
    state: screw_1
  objectType: Item

# wooden handle

#- type: constructionGraph
#  id: WoodenHandleGraph
#  start: start
#  graph:
#  - node: start
#    edges:
#    - to: Handle
#      steps:
#      - material: WoodPlank
#        amount: 5
#        doAfter: 6
#  - node: Handle
#    entity: WoodenHandle
#
#
#- type: construction
#  id: WoodenHandleCraft
#  name: Wooden Handle
#  description: A simple wooden handle for tools.
#  graph: WoodenHandleGraph
#  startNode: start
#  targetNode: Handle
#  icon:
#    sprite: _Goobstation/Objects/Misc/Crafting/wooden_handle.rsi
#    state: icon
#  objectType: Item
#  hide: true

# contra bag
# graph made by a program that mades graphs easier to make so lets hope it works
- type: constructionGraph
  id: ContrabandSatchelGraph
  start: start
  graph:
  - node: start
    edges:
    - to: welding
      steps:
      - material: Steel
        amount: 5
        doAfter: 5
      - material: Plastic
        amount: 3
        doAfter: 5

  - node: welding
    entity: ContrabandBagUnfinished
    edges:
    - to: screwing
      steps:
      - tool: Welding
        doAfter: 5

  - node: screwing
    edges:
    - to: hexing
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2

  - node: hexing
    edges:
    - to: cabling
      steps:
      - material: HexNut
        amount: 2
        doAfter: 3
      - tool: Anchoring
        doAfter: 2

  - node: cabling
    edges:
    - to: morecutting
      steps:
      - material: Cable
        amount: 10
        doAfter: 2
      - tool: Cutting
        doAfter: 2

  - node: morecutting
    edges:
    - to: finalcutting
      steps:
      - tool: Cutting
        doAfter: 2

  - node: finalcutting
    edges:
    - to: final
      steps:
      - tool: Cutting
        doAfter: 2

  - node: final
    entity: ContrabandBag

- type: construction
  id: ContrabandSatchelCraft
  name: contraband bag
  description: A steel bag for hiding from metal detectors.
  graph: ContrabandSatchelGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Storage/contra_satchel.rsi
    state: icon
  objectType: Item

# stupidly over complicated makeshift defib craft:
- type: constructionGraph
  id: MakeshiftDefibGraph
  start: start
  graph:
  - node: start
    edges:
    - to: screwing
      steps:
      - material: Steel
        amount: 10
        doAfter: 5
      - material: Cable
        amount: 2
        doAfter: 5
  - node: screwing
    entity: MakeshiftDefibUnfinished
    edges:
    - to: hexing
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: hexing
    edges:
    - to: screwingmore
      steps:
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 2
  - node: screwingmore
    edges:
    - to: hexingmore
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: hexingmore
    edges:
    - to: cabling
      steps:
      - material: HexNut
        amount: 2
        doAfter: 2
      - tool: Anchoring
        doAfter: 2
  - node: cabling
    edges:
    - to: welding
      steps:
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 2
  - node: welding
    edges:
    - to: evenmorescrewing
      steps:
      - tool: Welding
        doAfter: 5
  - node: evenmorescrewing
    edges:
    - to: battery
      steps:
      - material: Screw
        amount: 4
        doAfter: 4
      - tool: Screwing
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: battery
    edges:
    - to: defibhands
      steps:
      - tag: PowerCell
        name: power cell
        icon:
          sprite: Objects/Power/power_cells.rsi
          state: o2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: defibhands
    edges:
    - to: insulation
      steps:
      - material: Steel
        amount: 2
        doAfter: 2
      - material: Cable
        amount: 2
        doAfter: 2
      - tool: Welding
        doAfter: 5
  - node: insulation
    edges:
    - to: MORESCREWING
      steps:
      - material: Cloth
        amount: 4
        doAfter: 3
      - material: Screw
        amount: 8
        doAfter: 4
      - tool: Screwing
        doAfter: 2
  - node: MORESCREWING
    edges:
    - to: final
      steps:
      - tool: Screwing
        doAfter: 2
      - tool: Screwing
        doAfter: 2
      - tool: Screwing
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: final
    edges: []
    entity: MakeshiftDefib

- type: construction
  id: MakeshiftDefibCraft
  name: makeshift defibrillator
  description: Stupidly complex makeshift defibrillator for all your needs.
  graph: MakeshiftDefibGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Devices/defib.rsi
    state: icon
  objectType: Item

# tide flipper zero

- type: constructionGraph
  id: TideFlipperZeroGraph
  start: start
  graph:
  - node: start
    edges:
    - to: screwing
      steps:
      - tag: Payload
        name: remote signaller
        icon:
          sprite: Objects/Devices/signaller.rsi
          state: signaller
        doAfter: 5
      - tag: Multitool
        name: multitool
        icon:
          sprite: Objects/Tools/multitool.rsi
          state: icon
        doAfter: 5
  - node: screwing
    entity: TideFlipperZeroUnfinished
    edges:
    - to: screwing2
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: screwing2
    edges:
    - to: cableing
      steps:
      - material: Screw
        amount: 2
        doAfter: 2
      - tool: Screwing
        doAfter: 2
  - node: cableing
    edges:
    - to: connecting
      steps:
      - material: Cable
        amount: 8
        doAfter: 4
      - tool: Cutting
        doAfter: 2
  - node: connecting
    edges:
    - to: connecting2
      steps:
      - component: IdCard
        doAfter: 2
        name: id card
        icon:
          sprite: Objects/Misc/id_cards.rsi
          state: idpassenger
      - tool: Pulsing
        doAfter: 8
  - node: connecting2 # duh it was too easy to make, go ask hop or steal more id cards you son of a bih'
    edges:
    - to: welding
      steps:
      - component: IdCard
        doAfter: 2
        name: id card
        icon:
          sprite: Objects/Misc/id_cards.rsi
          state: idpassenger
      - tool: Pulsing
        doAfter: 8
  - node: welding
    edges:
    - to: final
      steps:
      - tool: Welding
        doAfter: 8
  - node: final
    edges: []
    entity: TideFlipperZero

- type: construction
  id: TideFlipperCraft
  name: makeshift tide flipper
  description: Makeshift hand remote that can be used to hack non-access doors with ease.
  graph: TideFlipperZeroGraph
  startNode: start
  targetNode: final
  icon:
    sprite: _Goobstation/Objects/Devices/tideflipper.rsi
    state: icon
  objectType: Item
