# abilities

# starting
- type: entity
  id: ActionEvolutionMenu
  name: Open evolution menu
  description: Opens the evolution menu.
  noSpawn: true
  components:
  - type: InstantAction
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: evolution_menu
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 0
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:OpenEvolutionMenuEvent {}

- type: entity
  id: ActionAbsorbDNA
  name: Absorb DNA
  description: Absorb the target's DNA, husking them in the process. Costs 25 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    useDelay: 5
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: absorb_dna
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 25
    useInLesserForm: true
    audible: true
  - type: ChangelingActionBehaviorCustom
    event: !type:AbsorbDNAEvent {}

- type: entity
  id: ActionStingExtractDNA
  name: Extract DNA sting
  description: Silently sting an organic target to steal their genetic information, allowing you to later transform into them. Costs 25 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_extractdna
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 25
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:StingExtractDNAEvent {}

- type: entity
  id: ActionChangelingTransformCycle
  name: Cycle DNA
  description: Cycle your available DNA.
  noSpawn: true
  components:
  - type: InstantAction
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: transform_cycle
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 0
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: ChangelingTransformCycleEvent

- type: entity
  id: ActionChangelingTransform
  name: Transform
  description: Use stolen genetic information to transform into another humanoid. Resets your abilities. Doesn't come with clothes. Costs 5 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 5
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: transform
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 5
    useInLesserForm: true
    audible: true
  - type: ChangelingActionBehaviorCustom
    event: !type:ChangelingTransformEvent {}

- type: entity
  id: ActionEnterStasis
  name: Enter regenerative stasis
  description: Fake your death and enter into a regenerative stasis. Drains all your chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: stasis_enter
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 0
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:EnterStasisEvent {}

- type: entity
  id: ActionExitStasis
  name: Exit stasis
  description: Rise from the dead with full health. Costs 60 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: stasis_exit
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 60
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:ExitStasisEvent {}

# combat
- type: entity
  id: ActionToggleArmblade
  name: Toggle Arm Blade
  description: Reform one of your arms into a strong blade, composed of bone and flesh. Retract on secondary use. Costs 15 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 2
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: armblade
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 15
    audible: true
  - type: ChangelingActionBehaviorEquip
    equipment:
    - prototype: ArmBladeChangeling

- type: entity
  id: ActionCreateBoneShard
  name: Form Bone Shard
  description: Break off shards of your bone and shape them into a throwing star. Costs 15 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 1
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: bone_shard
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 15
    audible: true
  - type: ChangelingActionBehaviorEquip
    equipment:
    - prototype: ThrowingStarChangeling

- type: entity
  id: ActionToggleChitinousArmor
  name: Toggle Armor
  description: Inflate your body into an all-consuming chitinous mass of armor. Costs 25 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 2
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: chitinous_armor
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 25
    requireAbsorbed: 2
    audible: true
  - type: ChangelingActionBehaviorEquip
    equipment:
    - prototype: ChangelingClothingOuterArmor
      equipmentSlot: outerClothing
    - prototype: ChangelingClothingHeadHelmet
      equipmentSlot: head

- type: entity
  id: ActionToggleOrganicShield
  name: Form Shield
  description: Reform one of your arms into a large, fleshy shield. Costs 20 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 2
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: organic_shield
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 20
    requireAbsorbed: 1
    audible: true
  - type: ChangelingActionBehaviorEquip
    equipment:
    - prototype: ChangelingShield

- type: entity
  id: ActionShriekDissonant
  name: Dissonant Shriek
  description: Emit an EMP blast, with just your voice. Costs 30 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 10
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: shriek_dissonant
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 30
    useInLesserForm: true
    requireAbsorbed: 1
  - type: ChangelingActionBehaviorCustom
    event: !type:ShriekDissonantEvent {}
  - type: ChangelingActionShriek

- type: entity
  id: ActionShriekResonant
  name: Resonant Shriek
  description: Disorient people and break lights, with just your voice. Costs 30 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 10
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: shriek_resonant
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 30
    useInLesserForm: true
    requireAbsorbed: 1
  - type: ChangelingActionBehaviorCustom
    event: !type:ShriekResonantEvent {}
  - type: ChangelingActionShriek

- type: entity
  id: ActionToggleStrainedMuscles
  name: Strain Muscles
  description: Move at extremely fast speeds. Deals stamina damage.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 1
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: strained_muscles
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 0
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:ToggleStrainedMusclesEvent {}

# stings
- type: entity
  id: ActionStingBlind
  name: Blind Sting
  description: Silently sting your target, blinding them for a short time and rendering them near sighted. Costs 35 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_blind
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 35
    useInLesserForm: true
  - type: ChangelingActionBehaviorSting
  - type: ChangelingActionBehaviorCustom
    event: !type:StingBlindEvent {}

- type: entity
  id: ActionStingCryo
  name: Cryogenic Sting
  description: Silently sting your target, constantly slowing and freezing them. Costs 35 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_cryo
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 35
    useInLesserForm: true
  - type: ChangelingActionBehaviorSting
    reagents:
      Fresium: 20
      ChloralHydrate: 10

- type: entity
  id: ActionStingLethargic
  name: Lethargic Sting
  description: Silently inject a cocktail of anesthetics into the target. Costs 35 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_lethargic
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 35
    useInLesserForm: true
  - type: ChangelingActionBehaviorSting
    reagents:
      Impedrezene: 10
      MuteToxin: 5

- type: entity
  id: ActionStingMute
  name: Mute Sting
  description: Silently sting your target, completely silencing them for a short time. Costs 35 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_mute
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 35
    useInLesserForm: true
  - type: ChangelingActionBehaviorSting
    reagents:
      MuteToxin: 15

- type: entity
  id: ActionStingFakeArmblade
  name: Fake Armblade Sting
  description: Silently sting your target, making them grow a dull armblade for a short time. Costs 50 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_armblade
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 50
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:StingFakeArmbladeEvent {}

- type: entity
  id: ActionStingTransform
  name: Transformation Sting
  description: Silently sting your target, transforming them into a person of your choosing. Costs 75 chemicals.
  noSpawn: true
  components:
  - type: EntityTargetAction
    whitelist:
      components:
      - Body
    canTargetSelf: false
    interactOnMiss: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: sting_transform
    event: !type:ChangelingTargetActionEvent {}
  - type: ChangelingAction
    chemicalCost: 75
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:StingTransformEvent {}

# utility
- type: entity
  id: ActionAnatomicPanacea
  name: Anatomic Panacea
  description: Cure yourself of diseases, disabilities, radiation, toxins, drunkedness and brain damage. Costs 30 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 30
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: anatomic_panacea
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 30
    useInLesserForm: true
    audible: true
  - type: ChangelingActionBehaviorSting
    targetSelf: true
    reagents:
      Arithrazine: 10
      Oculine: 5
      Ethylredoxrazine: 5

- type: entity
  id: ActionAugmentedEyesight
  name: Augmented Eyesight
  description: Toggle flash protection.
  noSpawn: true
  components:
  - type: InstantAction
    checkCanInteract: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: augmented_eyesight
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 0
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:ActionAugmentedEyesightEvent {}

- type: entity
  id: ActionBiodegrade
  name: Biodegrade
  description: Vomit a caustic substance onto any restraints, or someone's face. Costs 30 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 5
    checkCanInteract: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: biodegrade
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 30
  - type: ChangelingActionBehaviorCustom
    event: !type:ActionBiodegradeEvent {}

- type: entity
  id: ActionChameleonSkin
  name: Chameleon Skin
  description: Slowly blend in with the environment. Costs 25 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 1
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: chameleon_skin
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 20
  - type: ChangelingActionBehaviorCustom
    event: !type:ActionChameleonSkinEvent {}

- type: entity
  id: ActionEphedrineOverdose
  name: Ephedrine Overdose
  description: Inject some stimulants into yourself. Costs 30 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 10
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: epinephrine_overdose
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 30
    useInLesserForm: true
  - type: ChangelingActionBehaviorSting
    targetSelf: true
    reagents:
      Synaptizine: 5
  - type: ChangelingActionBehaviorCustom
    event: !type:ActionEphedrineOverdoseEvent {}

- type: entity
  id: ActionFleshmend
  name: Fleshmend
  description: Rapidly heal yourself. Costs 35 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 30
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: fleshmend
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 35
    useInLesserForm: true
    audible: true
  - type: ChangelingActionBehaviorSting
    targetSelf: true
    reagents:
      Ichor: 10

- type: entity
  id: ActionToggleLesserForm
  name: Lesser Form
  description: Abandon your current form and transform into a monkey. Costs 20 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 5
    checkCanInteract: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: lesser_form
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 20
    audible: true
  - type: ChangelingActionBehaviorCustom
    event: !type:ActionLesserFormEvent {}

- type: entity
  id: ActionToggleSpacesuit
  name: Toggle Space Suit
  description: Make your body space proof. Costs 20 chemicals.
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 2
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: space_adaptation
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 20
    audible: true
  - type: ChangelingActionBehaviorEquip
    equipment:
    - prototype: ChangelingClothingOuterHardsuit
      equipmentSlot: outerClothing
    - prototype: ChangelingClothingHeadHelmetHardsuit
      equipmentSlot: head

- type: entity
  id: ActionHivemindAccess
  name: Hivemind Access
  description: Tune your chemical receptors for hivemind communication.
  noSpawn: true
  components:
  - type: InstantAction
    checkCanInteract: false
    checkConsciousness: false
    itemIconStyle: NoItem
    icon:
      sprite: Goobstation/Changeling/changeling_abilities.rsi
      state: hivemind_access
    event: !type:ChangelingInstantActionEvent {}
  - type: ChangelingAction
    chemicalCost: 0
    useInLesserForm: true
  - type: ChangelingActionBehaviorCustom
    event: !type:ActionHivemindAccessEvent {}
