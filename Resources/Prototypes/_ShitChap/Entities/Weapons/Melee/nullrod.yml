- type: entity # Making a base item with allow for creating more variants easier. Probably.
  parent: BaseItem
  id: BaseNullrod
  abstract: true
  components:
  - type: DivineIntervention
  - type: AlternatePrayable
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/nullrod.rsi
    state: icon
  - type: Item
    size: Small
  - type: MeleeWeapon
    heavyStaminaCost: 2.5
    attackRate: 1.4
    damage:
      types:
        Blunt: 12
        Holy: 7
    soundHit:
      collection: MetalThud
  - type: Reflect
    reflectProb: 1
    reflects:
    - Magic
  - type: InjectOnHit
    reagents:
    - ReagentId: MuteToxin
      Quantity: 0.10
    limit: 2
  - type: DisarmMalus
    malus: 0
  - type: Tag
    tags:
    - Nullrod

- type: entity
  name: Null Rod
  parent: BaseNullrod
  id: Nullrod
  description: The old classic. Does nothing special, really.
  components:
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Heat: 20
    UntrainedUseString: nullrod-untrained-usage-popup
  - type: Tag
    tags:
    - Nullrod

- type: entity
  name: holy claymore
  parent: BaseNullrod
  id: HolyClaymore
  description: A weapon fit for a crusade! A sword capable of stealing life from evil-doers.
  components:
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Slash: 20
    UntrainedUseString: nullrod-holyclaymore-untrained-usage-popup
  - type: Gun
    soundGunshot: /Audio/Effects/radpulse7.ogg
    fireRate: 0.5
    useKey: false
  - type: GunRequiresWield
  - type: MeleeWeapon
    animationRotation: -45
    wideAnimationRotation: -135
    attackRate: 1.0
    damage:
      types:
        Slash: 15
        Holy: 7
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Wieldable
  - type: DamageBoostOnMarker
    boost:
      types:
        Holy: 15
  - type: LeechOnMarker
    leech:
      groups:
        Brute: -10
  - type: Clothing
    sprite: _ShitChap/Objects/Weapons/Nullrod/holyclaymore.rsi
    slots:
    - back
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/holyclaymore.rsi # Todo - Give this proper wielded sprites.
  - type: AmmoCounter
  - type: UseDelayOnShoot
  - type: UseDelay
    delay: 3.5
  - type: RechargeBasicEntityAmmo
    rechargeCooldown: 3.4
    rechargeSound:
      path: /Audio/Magic/Cults/ClockCult/steam_whoosh.ogg
  - type: BasicEntityAmmoProvider
    proto: HolyBulletCharge
    capacity: 1
    count: 1
  - type: SentienceTarget
    flavorKind: station-event-random-sentience-flavor-inanimate
    weight: 0.50
  - type: MedievalAccent
  - type: Sharp
  - type: Execution # OFF WITH HIS HEAD!!
    doAfterDuration: 3.0
  - type: Scalpel
    speed: 0.25
  - type: BoneSaw # You can't tell me this isn't hilarious.
    speed: 0.6 # Chaplain preforming surgery with a COMICALLY LARGE CLAYMORE
  - type: Tag
    tags:
    - HolyClaymore

- type: entity
  name: rosary
  description: Using these to pray near someone will heal them. They are surrounded by a holy aura.
  parent: BaseNullrod
  id: Rosary
  components:
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/rosary.rsi
    state: icon
  - type: UseDelay
    delay: 5.0
  - type: MeleeWeapon
    soundHit:
      path: /Audio/Effects/weak_hit1.ogg
    damage:
      types:
        Blunt: 3
        Holy: 10
  - type: Wieldable
  - type: SpeedModifiedOnWield # HOLY.. AURA!
    walkModifier: 1.15
    sprintModifier: 1.15
  - type: Item
    size: Small
    sprite: _ShitChap/Objects/Weapons/Nullrod/rosary.rsi
  - type: Clothing
    slots:
    - Belt
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Blunt: 20
    UntrainedUseString: nullrod-rosary-untrained-usage-popup
  - type: AlternatePrayable
    repeatPrayer: true
  - type: HealNearOnPray
    damage:
      groups:
        Brute: -11.0
        Burn: -11.0
        Toxin: -1.0
        Airloss: -3.0
  - type: Tag
    tags:
    - Rosary

- type: entity
  parent: BaseNullrod
  id: GodHand
  name: Hand of God
  description: A holy, fiery gift from the gods. You won't drop this one.
  suffix: Unremoveable
  components:
  - type: Item
    size: Ginormous
    sprite: _ShitChap/Objects/Weapons/Nullrod/godhand.rsi
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/godhand.rsi
    state: icon
  - type: MeleeWeapon
    canWideSwing: false
    attackRate: 0.7
    damage:
      types:
        Heat: 10
        Slash: 5
        Holy: 7
    soundHit:
      path: /Audio/Weapons/Guns/Hits/energy_meat1.ogg
  - type: GrabbingItem
  - type: IgniteOnMeleeHit # emphasis on FLAMING GIFT!!
    fireStacks: 0.25
  - type: Cautery
    speed: 0.3
  - type: Tool
    qualities:
      - Prying
  - type: Unremoveable
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Burn: 40
    UntrainedUseString: nullrod-godhand-untrained-usage-popup
  - type: Execution # It's not sharp per se, but who's against executing heretics with a giant flaming hand from god?
    doAfterDuration: 4.0
  - type: Tag
    tags:
    - GodHand

- type: entity
  parent: BaseNullrod
  id: ArrythmicKnife
  name: arrythmic knife
  description: They say fear is the true mind killer, but stabbing them in the head works too. Slows you down and speeds you up randomly.
  components:
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Slash: 20
    UntrainedUseString: nullrod-arrythmicknife-untrained-usage-popup
  - type: Item
    size: Huge
    sprite: _ShitChap/Objects/Weapons/Nullrod/arrythmic.rsi
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/arrythmic.rsi
    state: icon
  - type: MeleeWeapon
    animationRotation: -45 # WWDP
    wideAnimationRotation: -135
    attackRate: 1.2
    damage:
      types:
        Slash: 12
        Holy: 7
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
  - type: ItemRandomizeMovementspeed
    whitelist:
      components:
      - BibleUser
  - type: Sharp
  - type: Execution
    doAfterDuration: 4.0
  - type: Scalpel # Why? Because it's funny. That's why.
    speed: 0.5
  - type: BoneSaw
    speed: 0.5
  - type: Tag
    tags:
    - ArrythmicKnife

- type: entity
  parent: BaseNullrod
  id: MonkStaff
  name: monk's staff
  description: A long, tall staff made of polished wood. Traditionally used in ancient old-Earth martial arts, now used to harass the clown. #Can parry blows - cqc update
  components:
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Blunt: 20
    UntrainedUseString: nullrod-monkstaff-untrained-usage-popup
  - type: Item
    size: Huge
    sprite: _ShitChap/Objects/Weapons/Nullrod/monkstaff.rsi
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/monkstaff.rsi
    state: icon
  - type: MeleeWeapon
    attackRate: 5.0
    damage:
      types:
        Holy: 2.5
        Blunt: 0.5
    soundHit:
      collection: BoxingHit
  - type: Blocking
    passiveBlockModifier:
      coefficients:
        Blunt: 0.3
        Slash: 0.3
        Piercing: 0.3
    activeBlockModifier:
      coefficients:
        Blunt: 0.5
        Slash: 0.5
        Piercing: 0.5
      flatReductions:
        Blunt: 1
        Slash: 1
        Piercing: 1
  - type: StaminaDamageOnHit
    damage: 15
  - type: Wieldable
  - type: Tag
    tags:
    - MonkStaff

- type: entity
  name: Atheist's Fedora
  parent: BaseNullrod
  id: AtheistFedora
  description: The brim of the hat is as sharp as your wit. Throwing it at someone would hurt almost as much as disproving the existence of God.
  components:
  - type: Nullrod # Note - These are damages, not damage types. Specify blunt or something not brute.
    DamageOnUntrainedUse:
      types:
        Slash: 20
    UntrainedUseString: nullrod-atheistfedora-untrained-usage-popup
  - type: LandAtCursor
  - type: Boomerang
  - type: DamageOtherOnHit
    damage:
      types:
        Slash: 8
        Holy: 10
  - type: MeleeWeapon
    attackRate: 1.5
    damage:
      types:
        Slash: 8
        Holy: 6
    soundHit:
        path: /Audio/Weapons/bladeslice.ogg
  - type: Item
    size: Small
    storedRotation: -90
    sprite: _ShitChap/Objects/Weapons/Nullrod/atheist.rsi
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/atheist.rsi
    state: icon
  - type: Clothing
    slots:
    - HEAD
    sprite: _ShitChap/Objects/Weapons/Nullrod/atheist.rsi
  - type: Sharp
  - type: Scalpel
    speed: 0.5
  - type: Tag
    tags:
    - AthiestsFedora

- type: entity
  name: Honkmother's Maw
  parent: BaseNullrod
  id: HonkmotherMaw
  description: a-HEAD of you lies a path most hilarious.
  components:
  - type: Item
    size: Huge
    sprite: _ShitChap/Objects/Weapons/Nullrod/honkmother.rsi
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/honkmother.rsi
    state: icon
  - type: Nullrod # Note - These are damages, not damage types. Specify blunt or something not brute.
    DamageOnUntrainedUse:
      types:
        Radiation: 20
    UntrainedUseString: nullrod-honkmother-untrained-usage-popup
  - type: MeleeWeapon
    attackRate: 0.9
    damage:
      types:
        Holy: 8
        Blunt: 10
    soundHit:
        collection: RubberHammer
        params:
            variation: 0.03
            volume: 3
  - type: KnockdownOnHit
    duration: 0.2
    dropHeldItemsBehavior: DropIfStanding
  - type: UseDelay
    delay: 3
  - type: UseDelayBlockKnockdown
    knockdownSound: /Audio/Items/bikehorn.ogg
    doCustom: true
  - type: Tag
    tags:
    - HonkmotherMaw

- type: entity
  parent: BaseNullrod
  id: UristHand
  name: Grey Emperor's Glove
  description: The tide beckons.
  suffix: Unremoveable
  components:
  - type: PointLight
    radius: 4
    energy: 1
  - type: Item
    size: Ginormous
    sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
    state: icon
  - type: UseDelay
    delay: 0
  - type: Tool
    qualities:
      - Screwing
    speedModifier: 1.2
    useSound: /Audio/Items/drill_use.ogg
  - type: ToolTileCompatible
  - type: Prying
    enabled: false
  - type: MultipleTool
    statusShowBehavior: true
    entries:
    - behavior: Screwing
      sprite:
        sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
        state: icon
      useSound:
        path: /Audio/Items/drill_use.ogg
      changeSound:
        path: /Audio/Items/change_drill.ogg
    - behavior: Prying
      sprite:
        sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
        state: icon
      useSound:
        path: /Audio/Items/jaws_pry.ogg
      changeSound:
        path: /Audio/Items/change_drill.ogg
    - behavior: Anchoring
      sprite:
        sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
        state: icon
      useSound:
        path: /Audio/Items/ratchet.ogg
      changeSound:
        path: /Audio/Items/change_drill.ogg
    - behavior: Cutting
      sprite:
        sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
        state: icon
      useSound:
        path: /Audio/Items/jaws_cut.ogg
      changeSound:
        path: /Audio/Items/change_drill.ogg
    - behavior: Pulsing
      sprite:
        sprite: _ShitChap/Objects/Weapons/Nullrod/uristhand.rsi
        state: icon
      changeSound:
        path: /Audio/Items/change_drill.ogg
  - type: MeleeWeapon
    canWideSwing: false
    attackRate: 0.9
    damage:
      types:
        Holy: 8
        Blunt: 12
        Structural: 15
    soundHit:
      path: /Audio/Weapons/smash.ogg
  - type: Unremoveable
  - type: Insulated
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Blunt: 50
    UntrainedUseString: nullrod-uristhand-untrained-usage-popup
  - type: MeleeThrowOnHit
    distance: 1
  - type: Tag
    tags:
      - UristHand
      - Multitool

- type: entity
  name: his holy chainsaw
  parent: BaseNullrod
  id: HolyChainsaw
  description: And because it's fuckin' FUN! AHAHA! AHAHAHA! AHAH-AAAAAAAA-MEN!
  suffix: Unremoveable
  components:
  - type: Nullrod
    DamageOnUntrainedUse:
      types:
        Slash: 50
    UntrainedUseString: nullrod-chainsaw-untrained-usage-popup
  - type: Unremoveable
  - type: Sharp
  - type: Sprite
    sprite: _ShitChap/Objects/Weapons/Nullrod/divinechainsaw.rsi
    state: icon
  - type: MeleeWeapon
    heavyStaminaCost: 10
    autoAttack: true
    angle: 0
    animationRotation: 90
    wideAnimationRotation: 90
    attackRate: 3
    damage:
      types:
        Slash: 7
        Blunt: 3
        Structural: 8
        Holy: 3
    soundHit:
      path: /Audio/Weapons/chainsaw.ogg
      params:
        volume: -3
  - type: UseDelay
    delay: 3
  - type: EmitSoundOnUse
    sound:
      path: /Audio/Weapons/chainsawwield.ogg
  - type: Item
    size: Ginormous
    sprite: _ShitChap/Objects/Weapons/Nullrod/divinechainsaw.rsi
  - type: BoneSaw # Shitmed
    speed: 0.5 # TODO: arm-mounted version becomes 0.65
  - type: SurgeryTool # Shitmed
    startSound:
      path: /Audio/Weapons/chainsawwield.ogg
    endSound:
      path: /Audio/Weapons/chainsaw.ogg

# Casul & Jackal
- type: entity
  name: casul
  parent: BaseItem
  id: WeaponPistolCasul
  description: The first of two huge pistols, capable of firing regenerating silver bullets. Incapable of firing without its sister gun.
  components:
    - type: Nullrod
      DamageOnUntrainedUse:
        types:
          Heat: 20
      UntrainedUseString: nullrod-pistol-untrained-usage-popup
    - type: Sprite
      sprite: _ShitChap/Objects/Weapons/Nullrod/casul.rsi
      state: icon
    - type: Clothing
      sprite: _ShitChap/Objects/Weapons/Nullrod/casul.rsi # Bweh!
      quickEquip: false
      slots:
        - suitStorage
        - Belt
    - type: Gun
      minAngle: 1
      maxAngle: 5
      angleIncrease: 1
      angleDecay: 4
      fireRate: 8
      availableModes:
        - SemiAuto
        - FullAuto
      soundGunshot:
        path: /Audio/Weapons/Guns/Gunshots/mk58.ogg # Todo - Change this to be less aggressive
    - type: Item
      size: Small
      shape:
        - 0,0,1,0
        - 0,1,0,1
    - type: BasicEntityAmmoProvider
      proto: BulletPistolSilver
      capacity: 5
      count: 5
    - type: AmmoCounter
    - type: ContainerContainer
      containers:
        ballistic-ammo: !type:Container
    - type: Multishot
      spreadMultiplier: 1.25
    - type: Tag
      tags:
        - WeaponPistolCasul
        - Sidearm
    - type: RequiresDualWield
      whitelist:
        tags:
          - WeaponPistolJackal
    - type: ReloadOnPray

- type: entity
  name: jackal
  parent: WeaponPistolCasul
  id: WeaponPistolJackal
  description: The second of two huge pistols, capable of firing regenerating silver bullets. Incapable of firing without its sister gun.
  components:
    - type: Sprite
      sprite: _ShitChap/Objects/Weapons/Nullrod/jackal.rsi
      state: icon
    - type: Clothing
      sprite: _ShitChap/Objects/Weapons/Nullrod/jackal.rsi
    - type: Tag
      tags:
        - WeaponPistolJackal
        - Sidearm
    - type: RequiresDualWield
      whitelist:
        tags:
          - WeaponPistolCasul
