
- type: entity
  name: MG-37
  parent: [BaseWeaponRifle, BaseSecurityContraband]
  id: WeaponRifleRAMG37
  description: A high end robust light machine gun that utilizes a target designator from a weapon deemed too expensive for mass scale manufacturing. Takes .160 Drum Magazines
  components:
  - type: Sprite
    sprite: _RA/Objects/Weapons/Guns/LMG/MG37.rsi
    layers:
      - state: base
        map: ["enum.GunVisualLayers.Base"]
      - state: mag-0
        map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: _RA/Objects/Weapons/Guns/LMG/MG37.rsi
  - type: Gun
    fireRate: 8.5
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/ltrifle.ogg
  - type: GunRequiresWield
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: MagazineSmartLarge
        insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
        priority: 2
        whitelist:
          tags:
            - MagazineSmart2
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: Chamber
        startingItem: CartridgeSmart
        priority: 1
        whitelist:
          tags:
            - CartridgeSmart
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: MagazineVisuals
    magState: mag
    steps: 1
    zeroVisible: true
  - type: Appearance
  - type: SmartGun
    requiresWield: true
  - type: LaserPointer
  - type: StaticPrice
    price: 1000
  - type: Item
    size: Ginormous
    shape:
    - 0,0,2,1
  - type: CursorOffsetRequiresWield
  - type: EyeCursorOffset
    maxOffset: 1.5
    pvsIncrease: 0.15
  - type: RestrictGunshotsByUserTag

- type: entity
  name: NTHWP-91 Nagel
  parent: [BaseCentcommContraband, BaseWeaponRifle]
  id: WeaponLightMachineGunNagel
  description: A beast designed to counter the hordes of many. Uses .30 rifle ammo.
  components:
  - type: Sprite
    sprite: _Mono/Objects/Weapons/Guns/LMGs/grizzly/Grizzly-icon.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-0
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    sprite: _Mono/Objects/Weapons/Guns/LMGs/grizzly/Grizzly-inhands.rsi
  - type: Item
    sprite: _Mono/Objects/Weapons/Guns/LMGs/grizzly/Grizzly-inhands.rsi
  - type: Gun
    availableModes:
    - FullAuto
    - Burst
    burstFireRate: 12
    burstCooldown: 0.8
    shotsPerBurst: 4
    fireRate: 4
    soundGunshot:
      path: /Audio/_Goobstation/Weapons/Guns/Gunshots/thock.ogg
  - type: ChamberMagazineAmmoProvider
    autoEject: true
    soundRack:
      path: /Audio/Weapons/Guns/Cock/ltrifle_cock.ogg
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: MagazineLightRifleBox
        insertSound: /Audio/Weapons/Guns/MagIn/ltrifle_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/ltrifle_magout.ogg
        priority: 2
        whitelist:
          tags:
          - MagazineLightRifleBox
        whitelistFailPopup: gun-magazine-whitelist-fail
      gun_chamber:
        name: Chamber
        startingItem: CartridgeLightRifle
        priority: 1
        whitelist:
          tags:
          - CartridgeLightRifle
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: MagazineVisuals
    magState: mag
    steps: 1
    zeroVisible: true
  - type: Appearance
  - type: SpeedModifiedOnWield
    walkModifier: 0.7 # goob edit V
    sprintModifier: 0.7 # goob edit ^
  - type: GunRequiresWield

- type: entity
  id: WeaponMechCombatHandheldArchgun
  parent: [BaseMechEquipment, BaseGunWieldable, BaseSecurityContraband]
  name: R.Arch-2 "Dunali"
  description: The pinacle of the Red Astra "Archguns" program, with a miniturized internal GraviMag keeping the gun light and its ammo fabricator fully powered. A focus on burst fire keeps it modest outside the hands of a mech.
  suffix: Mech Weapon, Gun, Combat, Rifle
  components:
  - type: Sprite
    sprite: _RA/Objects/Weapons/Guns/LMG/Dunali.rsi
    state: base
  - type: Clothing
    sprite: _RA/Objects/Weapons/Guns/LMG/Dunali.rsi
    slots: BACK, SUITSTORAGE
  - type: Item
    sprite: _RA/Objects/Weapons/Guns/LMG/Dunali.rsi
    size: Ginormous
  - type: Battery
    maxCharge: 640 # Battery is charged by mech
    startingCharge: 640
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargePause: true
    autoRechargeRate: 64
    autoRechargePauseTime: 10
  - type: StaticPrice
    price: 3500
  - type: ClothingSpeedModifier
    walkModifier: 1
    sprintModifier: 1
  - type: HeldSpeedModifier
    mirrorClothingModifier: false
    walkModifier: 0.85
    sprintModifier: 0.85
  - type: Gun
    minAngle: 16
    maxAngle: 28
    angleIncrease: -8
    fireRate: 4
    burstCooldown: 0.35
    burstFireRate: 28
    shotsPerBurst: 2
    selectedMode: Burst
    availableModes:
      - SemiAuto
      - Burst
      - FullAuto
    cameraRecoilScalar: 0.25
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/ship_perforator.ogg
  - type: Wieldable
  - type: GunWieldBonus
    angleDecay: -8
    minAngle: -8
    maxAngle: -28
  - type: Multishot
  - type: ProjectileBatteryAmmoProvider
    proto: CartridgeCaselessDual
    fireCost: 40
  - type: Appearance
  - type: AmmoCounter
